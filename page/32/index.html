<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>OneKBase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="OneKBase">
<meta property="og:url" content="http://www.onekbase.com/page/32/index.html">
<meta property="og:site_name" content="OneKBase">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="证心">
<meta name="twitter:card" content="summary">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">OneKBase</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">归一</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" target="_blank" rel="noopener" href="http://site.onekbase.com">ITEEDU</a>
        
          <a class="main-nav-link" href="/about/">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.onekbase.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-blog/database/sql/selectinto" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sql/selectinto/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:35:06.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sql/selectinto/">SELECT INTO 和 INSERT INTO SELECT 两种表复制语句</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Insert是T-sql中常用语句，Insert INTO table(field1,field2,…)<br>values(value1,value2,…)这种形式的在应用程序开发中必不可少。但我们在开发、测试过程中，经常会遇到需要表复制的情况，如将一个table1的数据的部分字段复制到table2中，或者将整个table1复制到table2中，这时候我们就要使用[SELECT<br>INTO 和 INSERT INTO SELECT<br>表复制语句了。]{style&#x3D;”font-family: Verdana;”}</p>
<p>1.[INSERT INTO SELECT语句]{style&#x3D;”font-family: Verdana;”}</p>
<p>语句形式为：[[Insert into Table2(field1,field2,…) select<br>value1,value2,… from<br>Table1]{style&#x3D;”font-family: Verdana;”}]{style&#x3D;”font-family: Verdana;”}</p>
<p>[要求目标表Table2必须存在，由于目标表Table2已经存在，所以我们除了插入源表Table1的字段外，还可以插入常量。示例如下：]{style&#x3D;”font-family: Verdana;”}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">--1.创建测试表</span><br><span class="line"> create TABLE Table1</span><br><span class="line"> (</span><br><span class="line">     a varchar(10),</span><br><span class="line">     b varchar(10),</span><br><span class="line">     c varchar(10),</span><br><span class="line">     CONSTRAINT [PK_Table1] PRIMARY KEY CLUSTERED</span><br><span class="line">     (</span><br><span class="line">         a ASC</span><br><span class="line">     )</span><br><span class="line"> ) ON [PRIMARY]</span><br><span class="line"></span><br><span class="line">create TABLE Table2</span><br><span class="line"> (</span><br><span class="line">     a varchar(10),</span><br><span class="line">     c varchar(10),</span><br><span class="line">     d int,</span><br><span class="line">     CONSTRAINT [PK_Table2] PRIMARY KEY CLUSTERED</span><br><span class="line">     (</span><br><span class="line">         a ASC</span><br><span class="line">     )</span><br><span class="line"> ) ON [PRIMARY]</span><br><span class="line"> GO</span><br><span class="line"> --2.创建测试数据</span><br><span class="line"> Insert into Table1 values(&#x27;赵&#x27;,&#x27;asds&#x27;,&#x27;90&#x27;)</span><br><span class="line"> Insert into Table1 values(&#x27;钱&#x27;,&#x27;asds&#x27;,&#x27;100&#x27;)</span><br><span class="line"> Insert into Table1 values(&#x27;孙&#x27;,&#x27;asds&#x27;,&#x27;80&#x27;)</span><br><span class="line"> Insert into Table1 values(&#x27;李&#x27;,&#x27;asds&#x27;,null)</span><br><span class="line"> GO</span><br><span class="line"> select * from Table2</span><br><span class="line"></span><br><span class="line">--3.INSERT INTO SELECT语句复制表数据</span><br><span class="line"> Insert into Table2(a, c, d) select a,c,5 from Table1</span><br><span class="line"> GO</span><br><span class="line"></span><br><span class="line">--4.显示更新后的结果</span><br><span class="line"> select * from Table2</span><br><span class="line"> GO</span><br><span class="line"> --5.删除测试表</span><br><span class="line"> drop TABLE Table1</span><br><span class="line"> drop TABLE Table2</span><br></pre></td></tr></table></figure>

<p>2.SELECT INTO FROM语句</p>
<p>语句形式为：SELECT vale1, value2 into Table2 from Table1</p>
<p>要求目标表Table2不存在，因为在插入时会自动创建表Table2，并将Table1中指定字段数据复制到Table2中。示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">   --1.创建测试表</span><br><span class="line"> create TABLE Table1</span><br><span class="line"> (</span><br><span class="line">     a varchar(10),</span><br><span class="line">     b varchar(10),</span><br><span class="line">     c varchar(10),</span><br><span class="line">     CONSTRAINT [PK_Table1] PRIMARY KEY CLUSTERED</span><br><span class="line">     (</span><br><span class="line">         a ASC</span><br><span class="line">     )</span><br><span class="line"> ) ON [PRIMARY]</span><br><span class="line"> GO</span><br><span class="line"></span><br><span class="line">--2.创建测试数据</span><br><span class="line"> Insert into Table1 values(&#x27;赵&#x27;,&#x27;asds&#x27;,&#x27;90&#x27;)</span><br><span class="line"> Insert into Table1 values(&#x27;钱&#x27;,&#x27;asds&#x27;,&#x27;100&#x27;)</span><br><span class="line"> Insert into Table1 values(&#x27;孙&#x27;,&#x27;asds&#x27;,&#x27;80&#x27;)</span><br><span class="line"> Insert into Table1 values(&#x27;李&#x27;,&#x27;asds&#x27;,null)</span><br><span class="line"> GO</span><br><span class="line"></span><br><span class="line">--3.SELECT INTO FROM语句创建表Table2并复制数据</span><br><span class="line"> select a,c INTO Table2 from Table1</span><br><span class="line"> GO</span><br><span class="line"></span><br><span class="line">--4.显示更新后的结果</span><br><span class="line"> select * from Table2</span><br><span class="line"> GO</span><br><span class="line"> --5.删除测试表</span><br><span class="line"> drop TABLE Table1</span><br><span class="line"> drop TABLE Table2</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sql/selectinto/" data-id="clhlnyle80053ojup7l2g0k8o" data-title="SELECT INTO 和 INSERT INTO SELECT 两种表复制语句" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sql/exists" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sql/exists/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:34:02.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sql/exists/">SQL中EXISTS的用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>EXISTS用于检查子查询是否至少会返回一行数据，该子查询实际上并不返回任何数据，而是返回值True或False<br>EXISTS 指定一个子查询，检测 行 的存在。</p>
<p>语法： EXISTS subquery</p>
<p>参数： subquery 是一个受限的 SELECT 语句 (不允许有 COMPUTE 子句和 INTO<br>关键字)。</p>
<p>结果类型： Boolean 如果子查询包含行，则返回 TRUE ，否则返回 FLASE 。</p>
<p>（一）. 在子查询中使用 NULL 仍然返回结果集</p>
<p>select * from TableIn where exists(select null)</p>
<p>等同于： select * from TableIn</p>
<p>（二）. 比较使用 EXISTS 和 IN 的查询。注意两个查询返回相同的结果。</p>
<p>select * from TableIn where exists(select BID from TableEx where<br>BNAME&#x3D;TableIn.ANAME)</p>
<p>select * from TableIn where ANAME in(select BNAME from TableEx)</p>
<p>（三）. 比较使用 EXISTS 和 &#x3D; ANY 的查询。注意两个查询返回相同的结果。</p>
<p>select * from TableIn where exists(select BID from TableEx where<br>BNAME&#x3D;TableIn.ANAME)</p>
<p>select * from TableIn where ANAME&#x3D;ANY(select BNAME from TableEx)</p>
<p>NOT EXISTS 的作用与 EXISTS 正好相反。如果子查询没有返回行，则满足了 NOT<br>EXISTS 中的 WHERE 子句。</p>
<p>结论： EXISTS(包括 NOT EXISTS )子句的返回值是一个BOOL值。<br>EXISTS内部有一个子查询语句(SELECT … FROM…)，<br>我将其称为EXIST的内查询语句。其内查询语句返回一个结果集。<br><strong>EXISTS子句根据其内查询语句的结果集空或者非空，返回一个布尔值。</strong></p>
<p>一种通俗的可以理解为：将外查询表的每一行，代入内查询作为检验，如果内查询返回的结果取非空值，则EXISTS子句返回TRUE，这一行行可作为外查询的结果行，否则不能作为结果。</p>
<p>在插入记录前，需要检查这条记录是否已经存在，只有当记录不存在时才执行插入操作，可以通过使用<br>EXISTS 条件句防止插入重复记录。</p>
<p>INSERT INTO TableIn (ANAME,ASEX) SELECT top 1 ‘张三’, ‘男’ FROM TableIn<br>WHERE not exists (select * from TableIn where TableIn.AID &#x3D; 7)</p>
<p>EXISTS与IN的使用效率的问题，通常情况下采用exists要比in效率高，因为IN不走索引。</p>
<p><strong>但要看实际情况具体使用：<br>IN适合于外表大而内表小的情况；EXISTS适合于外表小而内表大的情况。</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sql/exists/" data-id="clhlnyle70051ojupa5nh07b3" data-title="SQL中EXISTS的用法" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sqlserver/zshss" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sqlserver/zshss/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:32:32.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sqlserver/zshss/">检查 Sql Server的阻塞和死锁</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Master.dbo.<a href="/database/sqlserver/sysprocesses.php" title="关于SYSPROCESSES表各字段的作用">SYSPROCESSES</a>中含有进程相关信息，可以从这里面看出阻塞和死锁。</p>
<p>先查找哪个链接的 blocked 字段不为0。如 SPID53的blocked 字段不为0，而是<br>52。SPID 52 的 blocked 为0，就可以得出结论：此时有阻塞发生，53 被 52<br>阻塞住了。如果你发现一个连接的 blocked<br>字段的值等于它自己，那说明这个连接正在做磁盘读写，它要等自己的 I&#x2F;O<br>做完。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sqlserver/zshss/" data-id="clhlnyled005rojupaqzl3akx" data-title="检查 Sql Server的阻塞和死锁" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sqlserver/sysprocesses" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sqlserver/sysprocesses/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:31:20.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sqlserver/sysprocesses/">关于SYSPROCESSES表各字段的作用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>sysprocesses 表中保存关于运行在 Microsoft SQL Server<br>上的进程的信息。这些进程可以是客户端进程或系统进程。sysprocesses<br>只存储在 master 数据库中。</p>
<hr>
<p>  列名            数据类型     描述<br>  spid            smallint     SQL Server 进程 ID。<br>  kpid            smallint     Microsoft Windows NT 4.0? 线程 ID。<br>  blocked         smallint     分块进程的进程 ID (spid)。<br>  waittype        binary(2)    保留。<br>  waittime        int          当前等待时间（以毫秒为单位）。当进程不处于等待时，为 0。<br>  lastwaittype    nchar(32)    表示上次或当前等待类型名称的字符串。<br>  waitresource    nchar(32)    锁资源的文本化表示法。<br>  dbid            smallint     当前正由进程使用的数据库 ID。<br>  uid             smallint     执行命令的用户 ID。<br>  cpu             int          进程的累计 CPU 时间。无论 SET STATISTICS TIME ON 选项是 ON 还是 OFF，都为所有进程更新该条目。<br>  physical_io    int          进程的累计磁盘读取和写入。<br>  memusage        int          当前分配给该进程的过程高速缓存中的页数。一个负数，表示进程正在释放由另一个进程分配的内存。<br>  login_time     datetime     客户端进程登录到服务器的时间。对于系统进程，是存储 SQL Server 启动发生的时间。<br>  last_batch     datetime     客户端进程上次执行远程存储过程调用或 EXECUTE 语句的时间。对于系统进程，是存储 SQL Server 启动发生的时间。<br>  ecid            smallint     用于唯一标识代表单个进程进行操作的子线程的执行上下文 ID。<br>  open_tran      smallint     进程的打开事务数。<br>  status          nchar(30)    进程 ID 状态（如运行、休眠等）。<br>  sid             binary(85)   用户的全局唯一标识符 (GUID)。<br>  hostname        nchar(128)   工作站的名称。<br>  program_name   nchar(128)   应用程序的名称。<br>  hostprocess     nchar(8)     工作站进程 ID 号。<br>  cmd             nchar(16)    当前正在执行的命令。<br>  nt_domain      nchar(128)   客户端的 Windows NT 4 域（如果使用 Windows 身份验证）或信任连接的 Windows NT 4 域。<br>  nt_username    nchar(128)   进程的 Windows NT 4.0用户名（如果使用 Windows 身份验证）或信任连接的 Windows NT 4 用户名。<br>  net_address    nchar(12)    指派给每个用户工作站上的网络接口卡唯一标识符。当用户登录时，该标识符插入 net_address 列。<br>  net_library    nchar(12)    用于存储客户端网络库的列。每个客户端进程都在网络连接上进入。网络连接有一个与这些进程关联的网络库，该网络库使得这些进程可以建立连接。有关更多信息，请参见客户端和服务器 Net-Library。<br>  loginame        nchar(128)   登录名。</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sqlserver/sysprocesses/" data-id="clhlnyled005pojupg9sk0xq7" data-title="关于SYSPROCESSES表各字段的作用" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sqlserver/datehsxj" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sqlserver/datehsxj/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:30:07.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sqlserver/datehsxj/">SQL Server Date 函数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>SQL Server 使用下列数据类型在数据库中存储日期或日期&#x2F;时间值：</p>
<ul>
<li>DATE – 格式 YYYY-MM-DD</li>
<li>DATETIME – 格式: YYYY-MM-DD HH:MM:SS</li>
<li>SMALLDATETIME – 格式: YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP – 格式: 唯一的数字</li>
</ul>
<p>下面的表格列出了 SQL Server 中最重要的内建日期函数：</p>
<p>+———————————–+———————————–+<br>| <strong>函数</strong>                          | <strong>描述</strong>                          |<br>+———————————–+———————————–+<br>| GETDATE()                         | 返回当前日期和时间                |<br>+———————————–+———————————–+<br>| DATEPART()                        | 返回日期&#x2F;时间的单独部分           |<br>+———————————–+———————————–+<br>| DATEADD()                         | 在日期中添加或减去指定的时间间隔  |<br>+———————————–+———————————–+<br>| DATEDIFF()                        | 返回两个日期之间的时间            |<br>+———————————–+———————————–+<br>| CONVERT()                         | 用不同的格式显示日期&#x2F;时间         |<br>+———————————–+———————————–+</p>
<h3 id="DATEPART"><a href="#DATEPART" class="headerlink" title="DATEPART()"></a>DATEPART()</h3><p>定义和用法</p>
<p>DATEPART()<br>函数用于返回日期&#x2F;时间的单独部分，比如年、月、日、小时、分钟等等。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATEPART(datepart,date)</span><br></pre></td></tr></table></figure>

<p><em>date</em> 参数是合法的日期表达式。</p>
<h3 id="DATEADD"><a href="#DATEADD" class="headerlink" title="DATEADD()"></a>DATEADD()</h3><p>定义和用法</p>
<p>DATEADD() 函数在日期中添加或减去指定的时间间隔。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATEADD(datepart,number,date)</span><br></pre></td></tr></table></figure>

<p><em>date</em> 参数是合法的日期表达式。<em>number</em><br>是您希望添加的间隔数；对于未来的时间，此数是正数，对于过去的时间，此数是负数。</p>
<h3 id="DATEDIFF"><a href="#DATEDIFF" class="headerlink" title="DATEDIFF()"></a>DATEDIFF()</h3><p>定义和用法</p>
<p>DATEDIFF() 函数返回两个日期之间的天数。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATEDIFF(datepart,startdate,enddate)</span><br></pre></td></tr></table></figure>

<p>startdate 和 enddate 参数是合法的日期表达式。</p>
<h3 id="datepart的值"><a href="#datepart的值" class="headerlink" title="datepart的值"></a>datepart的值</h3><p>+———————————–+———————————–+<br>| <strong>datepart</strong>                      | <strong>缩写</strong>                          |<br>+———————————–+———————————–+<br>| 年                                | yy, yyyy                          |<br>+———————————–+———————————–+<br>| 季度                              | qq, q                             |<br>+———————————–+———————————–+<br>| 月                                | mm, m                             |<br>+———————————–+———————————–+<br>| 年中的日                          | dy, y                             |<br>+———————————–+———————————–+<br>| 日                                | dd, d                             |<br>+———————————–+———————————–+<br>| 周                                | wk, ww                            |<br>+———————————–+———————————–+<br>| 星期                              | dw, w                             |<br>+———————————–+———————————–+<br>| 小时                              | hh                                |<br>+———————————–+———————————–+<br>| 分钟                              | mi, n                             |<br>+———————————–+———————————–+<br>| 秒                                | ss, s                             |<br>+———————————–+———————————–+<br>| 毫秒                              | ms                                |<br>+———————————–+———————————–+<br>| 微妙                              | mcs                               |<br>+———————————–+———————————–+<br>| 纳秒                              | ns                                |<br>+———————————–+———————————–+</p>
<h3 id="CONVERT"><a href="#CONVERT" class="headerlink" title="CONVERT()"></a>CONVERT()</h3><p>定义和用法</p>
<p>CONVERT() 函数是把日期转换为新数据类型的通用函数。</p>
<p>CONVERT() 函数可以用不同的格式显示日期&#x2F;时间数据。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONVERT(data_type(length),data_to_be_converted,style)</span><br></pre></td></tr></table></figure>

<p><em>data_type(length)</em><br>规定目标数据类型（带有可选的长度）。<em>data_to_be_converted</em><br>含有需要转换的值。<em>style</em> 规定日期&#x2F;时间的输出格式。</p>
<p>可以使用的 <em>style</em> 值：</p>
<p>+———————————–+———————————–+<br>| <strong>Style ID</strong>                      | <strong>Style</strong> <strong>格式</strong>                |<br>+———————————–+———————————–+<br>| 100 或者 0                        | mon dd yyyy hh:miAM （或者 PM）   |<br>+———————————–+———————————–+<br>| 101                               | mm&#x2F;dd&#x2F;yy                          |<br>+———————————–+———————————–+<br>| 102                               | yy.mm.dd                          |<br>+———————————–+———————————–+<br>| 103                               | dd&#x2F;mm&#x2F;yy                          |<br>+———————————–+———————————–+<br>| 104                               | dd.mm.yy                          |<br>+———————————–+———————————–+<br>| 105                               | dd-mm-yy                          |<br>+———————————–+———————————–+<br>| 106                               | dd mon yy                         |<br>+———————————–+———————————–+<br>| 107                               | Mon dd, yy                        |<br>+———————————–+———————————–+<br>| 108                               | hh:mm:ss                          |<br>+———————————–+———————————–+<br>| 109 或者 9                        | mon dd yyyy hh:mi:ss:mmmAM（或者  |<br>|                                   | PM）                              |<br>+———————————–+———————————–+<br>| 110                               | mm-dd-yy                          |<br>+———————————–+———————————–+<br>| 111                               | yy&#x2F;mm&#x2F;dd                          |<br>+———————————–+———————————–+<br>| 112                               | yymmdd                            |<br>+———————————–+———————————–+<br>| 113 或者 13                       | dd mon yyyy hh:mm:ss:mmm(24h)     |<br>+———————————–+———————————–+<br>| 114                               | hh:mi:ss:mmm(24h)                 |<br>+———————————–+———————————–+<br>| 120 或者 20                       | yyyy-mm-dd hh:mi:ss(24h)          |<br>+———————————–+———————————–+<br>| 121 或者 21                       | yyyy-mm-dd hh:mi:ss.mmm(24h)      |<br>+———————————–+———————————–+<br>| 126                               | yyyy-mm-ddThh:mm:ss.mmm（没有空格） |<br>+———————————–+———————————–+<br>| 130                               | dd mon yyyy hh:mi:ss:mmmAM        |<br>+———————————–+———————————–+<br>| 131                               | dd&#x2F;mm&#x2F;yy hh:mi:ss:mmmAM           |<br>+———————————–+———————————–+</p>
<p>实例</p>
<p>下面的脚本使用 CONVERT() 函数来显示不同的格式。我们将使用 GETDATE()<br>函数来获得当前的日期&#x2F;时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CONVERT(VARCHAR(19),GETDATE())</span><br><span class="line">CONVERT(VARCHAR(10),GETDATE(),110) </span><br><span class="line">CONVERT(VARCHAR(11),GETDATE(),106)</span><br><span class="line">CONVERT(VARCHAR(24),GETDATE(),113)</span><br></pre></td></tr></table></figure>

<p>结果类似：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Dec 29 2008 11:45 PM</span><br><span class="line">12-29-2008</span><br><span class="line">29 Dec 08</span><br><span class="line">29 Dec 2008 16:25:46.635</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sqlserver/datehsxj/" data-id="clhlnylec005lojupdukz58pg" data-title="SQL Server Date 函数" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/mysql/datehsxj" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/mysql/datehsxj/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:28:56.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/mysql/datehsxj/">MySQL Date 函数详解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>MySQL 使用下列数据类型在数据库中存储日期或日期&#x2F;时间值：</p>
<ul>
<li>DATE – 格式 YYYY-MM-DD</li>
<li>DATETIME – 格式: YYYY-MM-DD HH:MM:SS</li>
<li>TIMESTAMP – 格式: YYYY-MM-DD HH:MM:SS</li>
<li>YEAR – 格式 YYYY 或 YY</li>
</ul>
<p>下面的表格列出了 MySQL 中最重要的内建日期函数：</p>
<p>+———————————–+———————————–+<br>| <strong>函数</strong>                          | <strong>描述</strong>                          |<br>+———————————–+———————————–+<br>| NOW()                             | 返回当前的日期和时间              |<br>+———————————–+———————————–+<br>| CURDATE()                         | 返回当前的日期                    |<br>+———————————–+———————————–+<br>| CURTIME()                         | 返回当前的时间                    |<br>+———————————–+———————————–+<br>| DATE()                            | 提取日期或日期&#x2F;时间表达式的日期部分 |<br>+———————————–+———————————–+<br>| EXTRACT()                         | 返回日期&#x2F;时间按的单独部分         |<br>+———————————–+———————————–+<br>| DATE_ADD()                       | 给日期添加指定的时间间隔          |<br>+———————————–+———————————–+<br>| DATE_SUB()                       | 从日期减去指定的时间间隔          |<br>+———————————–+———————————–+<br>| DATEDIFF()                        | 返回两个日期之间的天数            |<br>+———————————–+———————————–+<br>| DATE_FORMAT()                    | 用不同的格式显示日期&#x2F;时间         |<br>+———————————–+———————————–+</p>
<h3 id="DATE"><a href="#DATE" class="headerlink" title="DATE()"></a>DATE()</h3><p>定义和用法</p>
<p>DATE() 函数返回日期或日期&#x2F;时间表达式的日期部分。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATE(date)</span><br></pre></td></tr></table></figure>

<p>date 参数是合法的日期表达式。</p>
<h3 id="EXTRACT"><a href="#EXTRACT" class="headerlink" title="EXTRACT()"></a>EXTRACT()</h3><p>定义和用法</p>
<p>EXTRACT()<br>函数用于返回日期&#x2F;时间的单独部分，比如年、月、日、小时、分钟等等。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXTRACT(unit FROM date)</span><br></pre></td></tr></table></figure>

<p><em>date</em> 参数是合法的日期表达式。</p>
<h3 id="DATE-ADD-和DATE-SUB"><a href="#DATE-ADD-和DATE-SUB" class="headerlink" title="DATE_ADD()和DATE_SUB()"></a>DATE_ADD()和DATE_SUB()</h3><p>定义和用法</p>
<p>DATE_ADD() 函数向日期添加指定的时间间隔。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DATE_ADD(date,INTERVAL expr type)</span><br><span class="line">DATE_SUB(date,INTERVAL expr type)</span><br></pre></td></tr></table></figure>

<p><em>date</em> 参数是合法的日期表达式。<em>expr</em> 参数是您希望添加的时间间隔。</p>
<h3 id="Unit-和Type的值"><a href="#Unit-和Type的值" class="headerlink" title="Unit 和Type的值"></a>Unit 和Type的值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MICROSECOND</span><br><span class="line">SECOND</span><br><span class="line">MINUTE</span><br><span class="line">HOUR</span><br><span class="line">DAY</span><br><span class="line">WEEK</span><br><span class="line">MONTH</span><br><span class="line">QUARTER</span><br><span class="line">YEAR</span><br><span class="line">SECOND_MICROSECOND</span><br><span class="line">MINUTE_MICROSECOND</span><br><span class="line">MINUTE_SECOND</span><br><span class="line">HOUR_MICROSECOND</span><br><span class="line">HOUR_SECOND</span><br><span class="line">HOUR_MINUTE</span><br><span class="line">DAY_MICROSECOND</span><br><span class="line">DAY_SECOND</span><br><span class="line">DAY_MINUTE</span><br><span class="line">DAY_HOUR</span><br><span class="line">YEAR_MONTH</span><br></pre></td></tr></table></figure>

<h3 id="DATEDIFF"><a href="#DATEDIFF" class="headerlink" title="DATEDIFF()"></a>DATEDIFF()</h3><p>定义和用法</p>
<p>DATEDIFF() 函数返回两个日期之间的天数。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATEDIFF(date1,date2)</span><br></pre></td></tr></table></figure>

<p><em>date1</em> 和 <em>date2</em> 参数是合法的日期或日期&#x2F;时间表达式。</p>
<p>注释：只有值的日期部分参与计算。</p>
<h3 id="DATE-FORMAT"><a href="#DATE-FORMAT" class="headerlink" title="DATE_FORMAT()"></a>DATE_FORMAT()</h3><p>定义和用法</p>
<p>DATE_FORMAT() 函数用于以不同的格式显示日期&#x2F;时间数据。</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATE_FORMAT(date,format)</span><br></pre></td></tr></table></figure>

<p><em>date</em> 参数是合法的日期。<em>format</em> 规定日期&#x2F;时间的输出格式。</p>
<p>可以使用的格式有：</p>
<p>+———————————–+———————————–+<br>| <strong>格式</strong>                          | <strong>描述</strong>                          |<br>+———————————–+———————————–+<br>| %a                               | 缩写星期名                        |<br>+———————————–+———————————–+<br>| %b                               | 缩写月名                          |<br>+———————————–+———————————–+<br>| %c                               | 月，数值                          |<br>+———————————–+———————————–+<br>| %D                               | 带有英文前缀的月中的天            |<br>+———————————–+———————————–+<br>| %d                               | 月的天，数值(00-31)               |<br>+———————————–+———————————–+<br>| %e                               | 月的天，数值(0-31)                |<br>+———————————–+———————————–+<br>| %f                               | 微秒                              |<br>+———————————–+———————————–+<br>| %H                               | 小时 (00-23)                      |<br>+———————————–+———————————–+<br>| %h                               | 小时 (01-12)                      |<br>+———————————–+———————————–+<br>| %I                               | 小时 (01-12)                      |<br>+———————————–+———————————–+<br>| %i                               | 分钟，数值(00-59)                 |<br>+———————————–+———————————–+<br>| %j                               | 年的天 (001-366)                  |<br>+———————————–+———————————–+<br>| %k                               | 小时 (0-23)                       |<br>+———————————–+———————————–+<br>| %l                               | 小时 (1-12)                       |<br>+———————————–+———————————–+<br>| %M                               | 月名                              |<br>+———————————–+———————————–+<br>| %m                               | 月，数值(00-12)                   |<br>+———————————–+———————————–+<br>| %p                               | AM 或 PM                          |<br>+———————————–+———————————–+<br>| %r                               | 时间，12-小时（hh:mm:ss AM 或     |<br>|                                   | PM）                              |<br>+———————————–+———————————–+<br>| %S                               | 秒(00-59)                         |<br>+———————————–+———————————–+<br>| %s                               | 秒(00-59)                         |<br>+———————————–+———————————–+<br>| %T                               | 时间, 24-小时 (hh:mm:ss)          |<br>+———————————–+———————————–+<br>| %U                               | 周 (00-53) 星期日是一周的第一天   |<br>+———————————–+———————————–+<br>| %u                               | 周 (00-53) 星期一是一周的第一天   |<br>+———————————–+———————————–+<br>| %V                               | 周 (01-53)                        |<br>|                                   | 星期日是一周的第一天，与 %X 使用  |<br>+———————————–+———————————–+<br>| %v                               | 周 (01-53)                        |<br>|                                   | 星期一是一周的第一天，与 %x 使用  |<br>+———————————–+———————————–+<br>| %W                               | 星期名                            |<br>+———————————–+———————————–+<br>| %w                               | 周的天   （0&#x3D;星期日, 6&#x3D;星期六）   |<br>+———————————–+———————————–+<br>| %X                               | 年，其中的星期日是周的第一天，4   |<br>|                                   | 位，与 %V 使用                    |<br>+———————————–+———————————–+<br>| %x                               | 年，其中的星期一是周的第一天，4   |<br>|                                   | 位，与 %v 使用                    |<br>+———————————–+———————————–+<br>| %Y                               | 年，4 位                          |<br>+———————————–+———————————–+<br>| %y                               | 年，2 位                          |<br>+———————————–+———————————–+</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/mysql/datehsxj/" data-id="clhlnyleb005iojup7crth92z" data-title="MySQL Date 函数详解" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sql/createview" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sql/createview/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:27:24.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sql/createview/">SQL CREATE VIEW 语法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="什么是视图？"><a href="#什么是视图？" class="headerlink" title="什么是视图？"></a>什么是视图？</h3><p>在 SQL 中，视图是基于 SQL 语句的结果集的可视化的表。</p>
<p>视图包含行和列，就像一个真实的表。视图中的字段就是来自一个或多个数据库中的真实的表中的字段。我们可以向视图添加<br>SQL 函数、WHERE 以及 JOIN<br>语句，我们也可以提交数据，就像这些来自于某个单一的表。</p>
<p>注释：数据库的设计和结构不会受到视图中的函数、where 或 join 语句的影响。</p>
<h3 id="SQL-CREATE-VIEW-语法"><a href="#SQL-CREATE-VIEW-语法" class="headerlink" title="SQL CREATE VIEW 语法"></a>SQL CREATE VIEW 语法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition</span><br></pre></td></tr></table></figure>

<p>注释：视图总是显示最近的数据。每当用户查询视图时，数据库引擎通过使用 SQL<br>语句来重建数据。</p>
<h3 id="SQL-CREATE-VIEW-实例"><a href="#SQL-CREATE-VIEW-实例" class="headerlink" title="SQL CREATE VIEW 实例"></a>SQL CREATE VIEW 实例</h3><p>可以从某个查询内部、某个存储过程内部，或者从另一个视图内部来使用视图。通过向视图添加函数、join<br>等等，我们可以向用户精确地提交我们希望提交的数据。</p>
<p>样本数据库 Northwind 拥有一些被默认安装的视图。视图 “Current Product<br>List” 会从 Products 表列出所有正在使用的产品。这个视图使用下列 SQL<br>创建：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Current Product List] AS</span><br><span class="line">SELECT ProductID,ProductName</span><br><span class="line">FROM Products</span><br><span class="line">WHERE Discontinued=No</span><br></pre></td></tr></table></figure>

<p>我们可以查询上面这个视图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Current Product List]</span><br></pre></td></tr></table></figure>

<p>Northwind 样本数据库的另一个视图会选取 Products<br>表中所有单位价格高于平均单位价格的产品：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Products Above Average Price] AS</span><br><span class="line">SELECT ProductName,UnitPrice</span><br><span class="line">FROM Products</span><br><span class="line">WHERE UnitPrice&gt;(SELECT AVG(UnitPrice) FROM Products)</span><br></pre></td></tr></table></figure>

<p>我们可以像这样查询上面这个视图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Products Above Average Price]</span><br></pre></td></tr></table></figure>

<p>另一个来自 Northwind 数据库的视图实例会计算在 1997<br>年每个种类的销售总数。请注意，这个视图会从另一个名为 “Product Sales for<br>1997″ 的视图那里选取数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Category Sales For 1997] AS</span><br><span class="line">SELECT DISTINCT CategoryName,Sum(ProductSales) AS CategorySales</span><br><span class="line">FROM [Product Sales for 1997]</span><br><span class="line">GROUP BY CategoryName</span><br></pre></td></tr></table></figure>

<p>我们可以像这样查询上面这个视图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Category Sales For 1997]</span><br></pre></td></tr></table></figure>

<p>我们也可以向查询添加条件。现在，我们仅仅需要查看 “Beverages”<br>类的全部销量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM [Category Sales For 1997]</span><br><span class="line">WHERE CategoryName=&#x27;Beverages&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="SQL-更新视图"><a href="#SQL-更新视图" class="headerlink" title="SQL 更新视图"></a>SQL 更新视图</h3><p>您可以使用下面的语法来更新视图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL CREATE OR REPLACE VIEW Syntax</span><br><span class="line">CREATE OR REPLACE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition</span><br></pre></td></tr></table></figure>

<p>现在，我们希望向 “Current Product List” 视图添加 “Category”<br>列。我们将通过下列 SQL 更新视图：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW [Current Product List] AS</span><br><span class="line">SELECT ProductID,ProductName,Category</span><br><span class="line">FROM Products</span><br><span class="line">WHERE Discontinued=No</span><br></pre></td></tr></table></figure>

<h3 id="SQL-撤销视图"><a href="#SQL-撤销视图" class="headerlink" title="SQL 撤销视图"></a>SQL 撤销视图</h3><p>您可以通过 DROP VIEW 命令来删除视图。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW view_name</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sql/createview/" data-id="clhlnyle4004qojup53a292dz" data-title="SQL CREATE VIEW 语法" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sql/autoincrement" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sql/autoincrement/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:25:14.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sql/autoincrement/">SQL AUTO INCREMENT 字段</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Auto-increment 会在新记录插入表中时生成一个唯一的数字。</p>
<p>我们通常希望在每次插入新记录时，自动地创建主键字段的值。</p>
<p>我们可以在表中创建一个 auto-increment 字段。</p>
<h3 id="用于-MySQL-的语法"><a href="#用于-MySQL-的语法" class="headerlink" title="用于 MySQL 的语法"></a>用于 MySQL 的语法</h3><p>下列 SQL 语句把 “Persons” 表中的 “P_Id” 列定义为 auto-increment 主键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL AUTO_INCREMENT,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>MySQL 使用 AUTO_INCREMENT 关键字来执行 auto-increment 任务。</p>
<p>默认地，AUTO_INCREMENT 的开始值是 1，每条新记录递增 1。</p>
<p>要让 AUTO_INCREMENT 序列以其他的值起始，请使用下列 SQL 语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons AUTO_INCREMENT=100</span><br></pre></td></tr></table></figure>

<p>要在 “Persons” 表中插入新记录，我们不必为 “P_Id”<br>列规定值（会自动添加一个唯一的值）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (FirstName,LastName)</span><br><span class="line">VALUES (&#x27;Bill&#x27;,&#x27;Gates&#x27;)</span><br></pre></td></tr></table></figure>

<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”P_Id”<br>会被赋予一个唯一的值。”FirstName” 会被设置为 “Bill”，”LastName”<br>列会被设置为 “Gates”。</p>
<h3 id="用于-SQL-Server-的语法"><a href="#用于-SQL-Server-的语法" class="headerlink" title="用于 SQL Server 的语法"></a>用于 SQL Server 的语法</h3><p>下列 SQL 语句把 “Persons” 表中的 “P_Id” 列定义为 auto-increment 主键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int PRIMARY KEY IDENTITY,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>MS SQL 使用 IDENTITY 关键字来执行 auto-increment 任务。</p>
<p>默认地，IDENTITY 的开始值是 1，每条新记录递增 1。</p>
<p>要规定 “P_Id” 列以 20 起始且递增 10，请把 identity 改为 IDENTITY(20,10)</p>
<p>要在 “Persons” 表中插入新记录，我们不必为 “P_Id”<br>列规定值（会自动添加一个唯一的值）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (FirstName,LastName)</span><br><span class="line">VALUES (&#x27;Bill&#x27;,&#x27;Gates&#x27;)</span><br></pre></td></tr></table></figure>

<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”P_Id”<br>会被赋予一个唯一的值。”FirstName” 会被设置为 “Bill”，”LastName”<br>列会被设置为 “Gates”。</p>
<h3 id="用于-Access-的语法"><a href="#用于-Access-的语法" class="headerlink" title="用于 Access 的语法"></a>用于 Access 的语法</h3><p>下列 SQL 语句把 “Persons” 表中的 “P_Id” 列定义为 auto-increment 主键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int PRIMARY KEY AUTOINCREMENT,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>MS Access 使用 AUTOINCREMENT 关键字来执行 auto-increment 任务。</p>
<p>默认地，AUTOINCREMENT 的开始值是 1，每条新记录递增 1。</p>
<p>要规定 “P_Id” 列以 20 起始且递增 10，请把 autoincrement 改为<br>AUTOINCREMENT(20,10)</p>
<p>要在 “Persons” 表中插入新记录，我们不必为 “P_Id”<br>列规定值（会自动添加一个唯一的值）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (FirstName,LastName)</span><br><span class="line">VALUES (&#x27;Bill&#x27;,&#x27;Gates&#x27;)</span><br></pre></td></tr></table></figure>

<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”P_Id”<br>会被赋予一个唯一的值。”FirstName” 会被设置为 “Bill”，”LastName”<br>列会被设置为 “Gates”。</p>
<h3 id="用于-Oracle-的语法"><a href="#用于-Oracle-的语法" class="headerlink" title="用于 Oracle 的语法"></a>用于 Oracle 的语法</h3><p>在 Oracle 中，代码稍微复杂一点。</p>
<p>您必须通过 sequence 对创建 auto-increment 字段（该对象生成数字序列）。</p>
<p>请使用下面的 CREATE SEQUENCE 语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE SEQUENCE seq_person</span><br><span class="line">MINVALUE 1</span><br><span class="line">START WITH 1</span><br><span class="line">INCREMENT BY 1</span><br><span class="line">CACHE 10</span><br></pre></td></tr></table></figure>

<p>上面的代码创建名为 seq_person 的序列对象，它以 1 起始且以 1<br>递增。该对象缓存 10 个值以提高性能。CACHE<br>选项规定了为了提高访问速度要存储多少个序列值。</p>
<p>要在 “Persons” 表中插入新记录，我们必须使用 nextval 函数（该函数从<br>seq_person 序列中取回下一个值）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons (P_Id,FirstName,LastName)</span><br><span class="line">VALUES (seq_person.nextval,&#x27;Lars&#x27;,&#x27;Monsen&#x27;)</span><br></pre></td></tr></table></figure>

<p>上面的 SQL 语句会在 “Persons” 表中插入一条新记录。”P_Id” 的赋值是来自<br>seq_person 序列的下一个数字。”FirstName” 会被设置为 “Bill”，”LastName”<br>列会被设置为 “Gates”。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sql/autoincrement/" data-id="clhlnyle2004jojupdlrd9ez8" data-title="SQL AUTO INCREMENT 字段" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sql/ysxj" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sql/ysxj/" class="article-date">
  <time class="dt-published" datetime="2015-09-16T02:22:52.000Z" itemprop="datePublished">2015-09-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sql/ysxj/">SQL 约束详解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>约束用于限制加入表的数据的类型。</p>
<p>可以在创建表时规定约束（通过 CREATE TABLE<br>语句），或者在表创建之后也可以（通过 ALTER TABLE 语句）。</p>
<p>我们将主要探讨以下几种约束：</p>
<ol>
<li>NOT NULL</li>
<li>UNIQUE</li>
<li>PRIMARY KEY</li>
<li>FOREIGN KEY</li>
<li>CHECK</li>
<li>DEFAULT</li>
</ol>
<p>注释：在下面的章节，我们会详细讲解每一种约束。</p>
<h3 id="NOT-NULL-约束"><a href="#NOT-NULL-约束" class="headerlink" title="NOT NULL 约束"></a>NOT NULL 约束</h3><p>NOT NULL 约束强制列不接受 NULL 值。</p>
<p>NOT NULL<br>约束强制字段始终包含值。这意味着，如果不向字段添加值，就无法插入新记录或者更新记录。</p>
<p>下面的 SQL 语句强制 “Id_P” 列和 “LastName” 列不接受 NULL 值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="UNIQUE-约束"><a href="#UNIQUE-约束" class="headerlink" title="UNIQUE 约束"></a>UNIQUE 约束</h3><p>UNIQUE 约束唯一标识数据库表中的每条记录。</p>
<p>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。</p>
<p>PRIMARY KEY 拥有自动定义的 UNIQUE 约束。</p>
<p>请注意，每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY<br>约束。</p>
<h4 id="CREATE-TABLE中的UNIQUE"><a href="#CREATE-TABLE中的UNIQUE" class="headerlink" title="CREATE TABLE中的UNIQUE"></a>CREATE TABLE中的UNIQUE</h4><p>下面的 SQL 在 “Persons” 表创建时在 “Id_P” 列创建 UNIQUE 约束：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">UNIQUE (Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL UNIQUE,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 UNIQUE 约束，以及为多个列定义 UNIQUE 约束，请使用下面的 SQL<br>语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT uc_PersonID UNIQUE (Id_P,LastName)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="ALTER-TABLE中的UNIQUE"><a href="#ALTER-TABLE中的UNIQUE" class="headerlink" title="ALTER TABLE中的UNIQUE"></a>ALTER TABLE中的UNIQUE</h4><p>当表已被创建时，如需在 “Id_P” 列创建 UNIQUE 约束，请使用下列 SQL：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD UNIQUE (Id_P)</span><br></pre></td></tr></table></figure>

<p>如需命名 UNIQUE 约束，并定义多个列的 UNIQUE 约束，请使用下面的 SQL<br>语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CONSTRAINT uc_PersonID UNIQUE (Id_P,LastName)</span><br></pre></td></tr></table></figure>

<h4 id="撤销-UNIQUE-约束"><a href="#撤销-UNIQUE-约束" class="headerlink" title="撤销 UNIQUE 约束"></a>撤销 UNIQUE 约束</h4><p>如需撤销 UNIQUE 约束，请使用下面的 SQL：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP INDEX uc_PersonID</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT uc_PersonID</span><br></pre></td></tr></table></figure>

<h3 id="PRIMARY-KEY-约束"><a href="#PRIMARY-KEY-约束" class="headerlink" title="PRIMARY KEY 约束"></a>PRIMARY KEY 约束</h3><p>PRIMARY KEY 约束唯一标识数据库表中的每条记录。</p>
<p>主键必须包含唯一的值。</p>
<p>主键列不能包含 NULL 值。</p>
<p>每个表都应该有一个主键，并且每个表只能有一个主键。</p>
<h4 id="CREATE-TABLE中的PRIMARY-KEY"><a href="#CREATE-TABLE中的PRIMARY-KEY" class="headerlink" title="CREATE TABLE中的PRIMARY KEY"></a>CREATE TABLE中的PRIMARY KEY</h4><p>下面的 SQL 在 “Persons” 表创建时在 “Id_P” 列创建 PRIMARY KEY 约束：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL PRIMARY KEY,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 PRIMARY KEY 约束，以及为多个列定义 PRIMARY KEY<br>约束，请使用下面的 SQL 语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT uc_PersonID PRIMARY KEY (Id_P,LastName)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="ALTER-TABLE中的PRIMARY-KEY"><a href="#ALTER-TABLE中的PRIMARY-KEY" class="headerlink" title="ALTER TABLE中的PRIMARY KEY"></a>ALTER TABLE中的PRIMARY KEY</h4><p>如果在表已存在的情况下为 “Id_P” 列创建 PRIMARY KEY 约束，请使用下面的<br>SQL：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD PRIMARY KEY (Id_P)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 PRIMARY KEY 约束，以及为多个列定义 PRIMARY KEY<br>约束，请使用下面的 SQL 语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CONSTRAINT pk_PersonID PRIMARY KEY (Id_P,LastName)</span><br></pre></td></tr></table></figure>

<p>注释：如果您使用 ALTER TABLE 语句添加主键，必须把主键列声明为不包含 NULL<br>值（在表首次创建时）。</p>
<h4 id="撤销-PRIMARY-KEY-约束"><a href="#撤销-PRIMARY-KEY-约束" class="headerlink" title="撤销 PRIMARY KEY 约束"></a>撤销 PRIMARY KEY 约束</h4><p>如需撤销 PRIMARY KEY 约束，请使用下面的 SQL：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP PRIMARY KEY</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT pk_PersonID</span><br></pre></td></tr></table></figure>

<p> </p>
<h3 id="FOREIGN-KEY-约束"><a href="#FOREIGN-KEY-约束" class="headerlink" title="FOREIGN KEY 约束"></a>FOREIGN KEY 约束</h3><p>一个表中的 FOREIGN KEY 指向另一个表中的 PRIMARY KEY。</p>
<p>FOREIGN KEY 约束用于预防破坏表之间连接的动作。</p>
<p>FOREIGN KEY<br>约束也能防止非法数据插入外键列，因为它必须是它指向的那个表中的值之一。</p>
<h4 id="CREATE-TABLE中的FOREIGN-KEY"><a href="#CREATE-TABLE中的FOREIGN-KEY" class="headerlink" title="CREATE TABLE中的FOREIGN KEY"></a>CREATE TABLE中的FOREIGN KEY</h4><p>下面的 SQL 在 “Orders” 表创建时为 “Id_P” 列创建 FOREIGN KEY：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">Id_P int,</span><br><span class="line">PRIMARY KEY (O_Id),</span><br><span class="line">FOREIGN KEY (Id_P) REFERENCES Persons(Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL PRIMARY KEY,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">Id_P int FOREIGN KEY REFERENCES Persons(Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 FOREIGN KEY 约束，以及为多个列定义 FOREIGN KEY<br>约束，请使用下面的 SQL 语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">O_Id int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">Id_P int,</span><br><span class="line">PRIMARY KEY (O_Id),</span><br><span class="line">CONSTRAINT fk_PerOrders FOREIGN KEY (Id_P)</span><br><span class="line">REFERENCES Persons(Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="ALTER-TABLE中的FOREIGN-KEY"><a href="#ALTER-TABLE中的FOREIGN-KEY" class="headerlink" title="ALTER TABLE中的FOREIGN KEY"></a>ALTER TABLE中的FOREIGN KEY</h4><p>如果在 “Orders” 表已存在的情况下为 “Id_P” 列创建 FOREIGN KEY<br>约束，请使用下面的 SQL：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">ADD FOREIGN KEY (Id_P)</span><br><span class="line">REFERENCES Persons(Id_P)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 FOREIGN KEY 约束，以及为多个列定义 FOREIGN KEY<br>约束，请使用下面的 SQL 语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">ADD CONSTRAINT fk_PerOrders</span><br><span class="line">FOREIGN KEY (Id_P)</span><br><span class="line">REFERENCES Persons(Id_P)</span><br></pre></td></tr></table></figure>

<h4 id="撤销-FOREIGN-KEY-约束"><a href="#撤销-FOREIGN-KEY-约束" class="headerlink" title="撤销 FOREIGN KEY 约束"></a>撤销 FOREIGN KEY 约束</h4><p>如需撤销 FOREIGN KEY 约束，请使用下面的 SQL：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">DROP FOREIGN KEY fk_PerOrders</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Orders</span><br><span class="line">DROP CONSTRAINT fk_PerOrders</span><br></pre></td></tr></table></figure>

<h3 id="CHECK-约束"><a href="#CHECK-约束" class="headerlink" title="CHECK 约束"></a>CHECK 约束</h3><p>CHECK 约束用于限制列中的值的范围。</p>
<p>如果对单个列定义 CHECK 约束，那么该列只允许特定的值。</p>
<p>如果对一个表定义 CHECK 约束，那么此约束会在特定的列中对值进行限制。</p>
<h4 id="CREATE-TABLE中的CHECK"><a href="#CREATE-TABLE中的CHECK" class="headerlink" title="CREATE TABLE中的CHECK"></a>CREATE TABLE中的CHECK</h4><p>下面的 SQL 在 “Persons” 表创建时为 “Id_P” 列创建 CHECK 约束。CHECK<br>约束规定 “Id_P” 列必须只包含大于 0 的整数。</p>
<p>My SQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CHECK (Id_P&gt;0)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL CHECK (Id_P&gt;0),</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 CHECK 约束，以及为多个列定义 CHECK 约束，请使用下面的 SQL<br>语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CONSTRAINT chk_Person CHECK (Id_P&gt;0 AND City=&#x27;Sandnes&#x27;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="ALTER-TABLE中的CHECK"><a href="#ALTER-TABLE中的CHECK" class="headerlink" title="ALTER TABLE中的CHECK"></a>ALTER TABLE中的CHECK</h4><p>如果在表已存在的情况下为 “Id_P” 列创建 CHECK 约束，请使用下面的 SQL：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CHECK (Id_P&gt;0)</span><br></pre></td></tr></table></figure>

<p>如果需要命名 CHECK 约束，以及为多个列定义 CHECK 约束，请使用下面的 SQL<br>语法：</p>
<p>MySQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ADD CONSTRAINT chk_Person CHECK (Id_P&gt;0 AND City=&#x27;Sandnes&#x27;)</span><br></pre></td></tr></table></figure>

<h4 id="撤销-CHECK-约束"><a href="#撤销-CHECK-约束" class="headerlink" title="撤销 CHECK 约束"></a>撤销 CHECK 约束</h4><p>如需撤销 CHECK 约束，请使用下面的 SQL：</p>
<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CONSTRAINT chk_Person</span><br></pre></td></tr></table></figure>

<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">DROP CHECK chk_Person</span><br></pre></td></tr></table></figure>

<h3 id="DEFAULT-约束"><a href="#DEFAULT-约束" class="headerlink" title="DEFAULT 约束"></a>DEFAULT 约束</h3><p>DEFAULT 约束用于向列中插入默认值。</p>
<p>如果没有规定其他的值，那么会将默认值添加到所有的新记录。</p>
<h4 id="CREATE-TABLE中的DEFAULT"><a href="#CREATE-TABLE中的DEFAULT" class="headerlink" title="CREATE TABLE中的DEFAULT"></a>CREATE TABLE中的DEFAULT</h4><p>下面的 SQL 在 “Persons” 表创建时为 “City” 列创建 DEFAULT 约束：</p>
<p>My SQL &#x2F; SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255) DEFAULT &#x27;Sandnes&#x27;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>通过使用类似 GETDATE() 这样的函数，DEFAULT 约束也可以用于插入系统值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">Id_O int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">Id_P int,</span><br><span class="line">OrderDate date DEFAULT GETDATE()</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="ALTER-TABLE中的DEFAULT"><a href="#ALTER-TABLE中的DEFAULT" class="headerlink" title="ALTER TABLE中的DEFAULT"></a>ALTER TABLE中的DEFAULT</h4><p>如果在表已存在的情况下为 “City” 列创建 DEFAULT 约束，请使用下面的 SQL：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER City SET DEFAULT &#x27;SANDNES&#x27;</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER COLUMN City SET DEFAULT &#x27;SANDNES&#x27;</span><br></pre></td></tr></table></figure>

<h4 id="撤销-DEFAULT-约束"><a href="#撤销-DEFAULT-约束" class="headerlink" title="撤销 DEFAULT 约束"></a>撤销 DEFAULT 约束</h4><p>如需撤销 DEFAULT 约束，请使用下面的 SQL：</p>
<p>MySQL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER City DROP DEFAULT</span><br></pre></td></tr></table></figure>

<p>SQL Server &#x2F; Oracle &#x2F; MS Access:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE Persons</span><br><span class="line">ALTER COLUMN City DROP DEFAULT</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sql/ysxj/" data-id="clhlnyleb005fojup7dq2hjtu" data-title="SQL 约束详解" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blog/database/sql/altertable" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/blog/database/sql/altertable/" class="article-date">
  <time class="dt-published" datetime="2015-09-15T10:32:03.000Z" itemprop="datePublished">2015-09-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/blog/database/sql/altertable/">SQL ALTER TABLE 语句</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ALTER TABLE 语句用于在已有的表中添加、修改或删除列。</p>
<p>SQL ALTER TABLE 语法</p>
<p>如需在表中添加列，请使用下列语法:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name </span><br><span class="line">ADD column_name datatype</span><br></pre></td></tr></table></figure>

<p>要删除表中的列，请使用下列语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line"> DROP COLUMN column_name</span><br></pre></td></tr></table></figure>

<p>注释：某些数据库系统不允许这种在数据库表中删除列的方式 (DROP COLUMN<br>column_name)。</p>
<p>要改变表中列的数据类型，请使用下列语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">ALTER COLUMN column_name datatype</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/database/sql/altertable/" data-id="clhlnyle1004gojup0e668lvd" data-title="SQL ALTER TABLE 语句" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/31/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><span class="page-number current">32</span><a class="page-number" href="/page/33/">33</a><a class="page-number" href="/page/34/">34</a><span class="space">&hellip;</span><a class="page-number" href="/page/37/">37</a><a class="extend next" rel="next" href="/page/33/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA-WEB/">JAVA WEB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA-WEB/Spring-Boot/">Spring Boot</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/">nosql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/MongoDB/">MongoDB</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E9%9B%86/">字符集</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/spark/">spark</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/Emacs/">Emacs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/GIT/">GIT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/VIM/">VIM</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">自制操作系统</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/SSO/">SSO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E4%B8%80%E8%87%B4%E6%80%A7/">一致性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/">任务调度</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/">反向代理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E5%AF%86%E7%A0%81%E6%9C%AF/">密码术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/JMS/">JMS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E7%BB%84%E4%BB%B6/">组件</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">负载均衡</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/">知识体系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/">排序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%A0%91%E7%AE%97%E6%B3%95/">树算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/">JAVA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/BASE/">BASE</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/IO/">IO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/JAVA8/">JAVA8</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/NIO/">NIO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/">线程安全</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lisp/">Lisp</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lisp/Common-Lisp/">Common Lisp</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Scala/">Scala</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/javascript/">javascript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10.5px;">AOP</a> <a href="/tags/ASCII%E7%A0%81/" style="font-size: 10px;">ASCII码</a> <a href="/tags/ActiveMQ/" style="font-size: 11px;">ActiveMQ</a> <a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/BAT%E8%84%9A%E6%9C%AC/" style="font-size: 10px;">BAT脚本</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CAS/" style="font-size: 10.5px;">CAS</a> <a href="/tags/Common-Lisp/" style="font-size: 13.5px;">Common Lisp</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10.5px;">C语言</a> <a href="/tags/Eclipse/" style="font-size: 11px;">Eclipse</a> <a href="/tags/Emacs/" style="font-size: 16.5px;">Emacs</a> <a href="/tags/Emmet/" style="font-size: 10px;">Emmet</a> <a href="/tags/GIT/" style="font-size: 10px;">GIT</a> <a href="/tags/HttpClient/" style="font-size: 12.5px;">HttpClient</a> <a href="/tags/IPFS/" style="font-size: 10px;">IPFS</a> <a href="/tags/JAVA/" style="font-size: 20px;">JAVA</a> <a href="/tags/JAVA-IO/" style="font-size: 15.5px;">JAVA IO</a> <a href="/tags/JAVA-NIO/" style="font-size: 17px;">JAVA NIO</a> <a href="/tags/JAVA-WEB/" style="font-size: 10.5px;">JAVA WEB</a> <a href="/tags/JAVA8/" style="font-size: 13.5px;">JAVA8</a> <a href="/tags/JWT/" style="font-size: 10px;">JWT</a> <a href="/tags/Lisp/" style="font-size: 12px;">Lisp</a> <a href="/tags/Markdown/" style="font-size: 10.5px;">Markdown</a> <a href="/tags/MongoDB/" style="font-size: 18px;">MongoDB</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/Scala/" style="font-size: 11px;">Scala</a> <a href="/tags/Shiro/" style="font-size: 10px;">Shiro</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a> <a href="/tags/VIM/" style="font-size: 16px;">VIM</a> <a href="/tags/WEB%E5%BC%80%E5%8F%91/" style="font-size: 11px;">WEB开发</a> <a href="/tags/XML/" style="font-size: 10.5px;">XML</a> <a href="/tags/archtype/" style="font-size: 10px;">archtype</a> <a href="/tags/azkaban/" style="font-size: 10.5px;">azkaban</a> <a href="/tags/hadoop/" style="font-size: 13px;">hadoop</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/hive/" style="font-size: 10px;">hive</a> <a href="/tags/javascript/" style="font-size: 14px;">javascript</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/linux/" style="font-size: 13px;">linux</a> <a href="/tags/maven/" style="font-size: 12px;">maven</a> <a href="/tags/nosql/" style="font-size: 18.5px;">nosql</a> <a href="/tags/nosql-neo4j/" style="font-size: 11.5px;">nosql neo4j</a> <a href="/tags/openssl/" style="font-size: 11px;">openssl</a> <a href="/tags/servlet/" style="font-size: 11px;">servlet</a> <a href="/tags/spark/" style="font-size: 12px;">spark</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/webservice/" style="font-size: 11px;">webservice</a> <a href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7/" style="font-size: 11.5px;">一致性</a> <a href="/tags/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" style="font-size: 10.5px;">任务调度</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">分布式</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 10px;">区块链</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 17.5px;">大数据</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/" style="font-size: 10px;">字符编码</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E9%9B%86/" style="font-size: 12.5px;">字符集</a> <a href="/tags/%E5%AE%A1%E8%AE%A1/" style="font-size: 10px;">审计</a> <a href="/tags/%E5%AF%86%E7%A0%81%E6%9C%AF/" style="font-size: 14.5px;">密码术</a> <a href="/tags/%E5%B0%BE%E9%80%92%E5%BD%92/" style="font-size: 10px;">尾递归</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 12px;">并发</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14px;">排序</a> <a href="/tags/%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95/" style="font-size: 10px;">摘要算法</a> <a href="/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 10.5px;">数字签名</a> <a href="/tags/%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6/" style="font-size: 10px;">数字证书</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 18.5px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%9D%83%E9%99%90/" style="font-size: 10px;">数据权限</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 11.5px;">杂谈</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 13.5px;">架构</a> <a href="/tags/%E6%A0%91%E7%AE%97%E6%B3%95/" style="font-size: 14px;">树算法</a> <a href="/tags/%E6%AD%A3%E8%A7%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正规表达式</a> <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 10px;">消息队列</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/" style="font-size: 12px;">知识体系</a> <a href="/tags/%E7%A5%9E%E5%99%A8/" style="font-size: 12px;">神器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 18.5px;">算法</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" style="font-size: 19px;">线程安全</a> <a href="/tags/%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12.5px;">自制操作系统</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 19.5px;">设计模式</a> <a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 13px;">负载均衡</a> <a href="/tags/%E9%94%81/" style="font-size: 11px;">锁</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/explain/">【置顶】公告</a>
          </li>
        
          <li>
            <a href="/blog/tools/maven/dn-cst-maven-archtype/">开发一个maven脚手架</a>
          </li>
        
          <li>
            <a href="/blog/nosql/neo4j/neo4jindustrystock/">neo4j创建行业与股票关系</a>
          </li>
        
          <li>
            <a href="/blog/nosql/neo4j/neo4jindustry/">neo4j创建三级行业关系</a>
          </li>
        
          <li>
            <a href="/blog/nosql/neo4j/neo4jtimeline/">neo4j创建时间线</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 证心<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a target="_blank" rel="noopener" href="http://site.onekbase.com" class="mobile-nav-link">ITEEDU</a>
  
    <a href="/about/" class="mobile-nav-link">关于</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>