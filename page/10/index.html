<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>OneKBase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="OneKBase">
<meta property="og:url" content="http://www.onekbase.com/page/10/index.html">
<meta property="og:site_name" content="OneKBase">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="证心">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="OneKBase" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">OneKBase</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.onekbase.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-blog/nosql/mongodb/atomic" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/atomic/" class="article-date">
  <time datetime="2016-04-10T09:38:12.000Z" itemprop="datePublished">2016-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/atomic/">MongoDB 原子操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>mongodb不支持事务，所以，在你的项目中应用时，要注意这点。无论什么设计，都不要要求mongodb保证数据的完整性。</p>
<p>但是mongodb提供了许多原子操作，比如文档的保存，修改，删除等，都是原子操作。</p>
<p>所谓原子操作就是要么这个文档保存到Mongodb，要么没有保存到Mongodb，不会出现查询到的文档没有保存完整的情况。</p>
<h2 id="原子操作数据模型"><a href="#原子操作数据模型" class="headerlink" title="原子操作数据模型"></a>原子操作数据模型</h2><p>考虑下面的例子，图书馆的书籍及结账信息。</p>
<p>实例说明了在一个相同的文档中如何确保嵌入字段关联原子操作（update：更新）的字段是同步的。</p>
<pre><code>book = &#123;
          _id: 123456789,
          title: &quot;MongoDB: The Definitive Guide&quot;,
          author: [ &quot;Kristina Chodorow&quot;, &quot;Mike Dirolf&quot; ],
          published_date: ISODate(&quot;2010-09-24&quot;),
          pages: 216,
          language: &quot;English&quot;,
          publisher_id: &quot;oreilly&quot;,
          available: 3,
          checkout: [ &#123; by: &quot;joe&quot;, date: ISODate(&quot;2012-10-15&quot;) &#125; ]
        &#125;
</code></pre>
<p>你可以使用 db.collection.findAndModify()方法来判断书籍是否可结算并更新新的结算信息。</p>
<p>在同一个文档中嵌入的 available 和 checkout<br>字段来确保这些字段是同步更新的:</p>
<pre><code>db.books.findAndModify ( &#123;
   query: &#123;
            _id: 123456789,
            available: &#123; $gt: 0 &#125;
          &#125;,
   update: &#123;
             $inc: &#123; available: -1 &#125;,
             $push: &#123; checkout: &#123; by: &quot;abc&quot;, date: new Date() &#125; &#125;
           &#125;
&#125; )
</code></pre>
<h2 id="原子操作常用命令"><a href="#原子操作常用命令" class="headerlink" title="原子操作常用命令"></a>原子操作常用命令</h2><h4 id="set"><a href="#set" class="headerlink" title="$set"></a>$set</h4><p>用来指定一个键并更新键值，若键不存在并创建。</p>
<pre><code>&#123; $set : &#123; field : value &#125; &#125;
</code></pre>
<h4 id="unset"><a href="#unset" class="headerlink" title="$unset"></a>$unset</h4><p>用来删除一个键。</p>
<pre><code>&#123; $unset : &#123; field : 1&#125; &#125;
</code></pre>
<h4 id="inc"><a href="#inc" class="headerlink" title="$inc"></a>$inc</h4><p>$inc可以对文档的某个值为数字型（只能为满足要求的数字）的键进行增减的操作。</p>
<pre><code>&#123; $inc : &#123; field : value &#125; &#125;
</code></pre>
<h4 id="push"><a href="#push" class="headerlink" title="$push"></a>$push</h4><p>用法：</p>
<pre><code>&#123; $push : &#123; field : value &#125; &#125;
</code></pre>
<p>把value追加到field里面去，field一定要是数组类型才行，如果field不存在，会新增一个数组类型加进去。</p>
<h4 id="pushAll"><a href="#pushAll" class="headerlink" title="$pushAll"></a>$pushAll</h4><p>同$push,只是一次可以追加多个值到一个数组字段内。</p>
<pre><code>&#123; $pushAll : &#123; field : value_array &#125; &#125;
</code></pre>
<h4 id="pull"><a href="#pull" class="headerlink" title="$pull"></a>$pull</h4><p>从数组field内删除一个等于value值。</p>
<pre><code>&#123; $pull : &#123; field : _value &#125; &#125;
</code></pre>
<h4 id="addToSet"><a href="#addToSet" class="headerlink" title="$addToSet"></a>$addToSet</h4><p>增加一个值到数组内，而且只有当这个值不在数组内才增加。</p>
<h4 id="pop"><a href="#pop" class="headerlink" title="$pop"></a>$pop</h4><p>删除数组的第一个或最后一个元素</p>
<pre><code>&#123; $pop : &#123; field : 1 &#125; &#125;
</code></pre>
<h4 id="rename"><a href="#rename" class="headerlink" title="$rename"></a>$rename</h4><p>修改字段名称</p>
<pre><code>&#123; $rename : &#123; old_field_name : new_field_name &#125; &#125;
</code></pre>
<h4 id="bit"><a href="#bit" class="headerlink" title="$bit"></a>$bit</h4><p>位操作，integer类型</p>
<pre><code>&#123;$bit : &#123; field : &#123;and : 5&#125;&#125;&#125;
</code></pre>
<h4 id="偏移操作符"><a href="#偏移操作符" class="headerlink" title="偏移操作符"></a>偏移操作符</h4><pre><code>&gt; t.find() &#123; &quot;_id&quot; : ObjectId(&quot;4b97e62bf1d8c7152c9ccb74&quot;), &quot;title&quot; : &quot;ABC&quot;, &quot;comments&quot; : [ &#123; &quot;by&quot; : &quot;joe&quot;, &quot;votes&quot; : 3 &#125;, &#123; &quot;by&quot; : &quot;jane&quot;, &quot;votes&quot; : 7 &#125; ] &#125;
 
&gt; t.update( &#123;&#39;comments.by&#39;:&#39;joe&#39;&#125;, &#123;$inc:&#123;&#39;comments.$.votes&#39;:1&#125;&#125;, false, true )
 
&gt; t.find() &#123; &quot;_id&quot; : ObjectId(&quot;4b97e62bf1d8c7152c9ccb74&quot;), &quot;title&quot; : &quot;ABC&quot;, &quot;comments&quot; : [ &#123; &quot;by&quot; : &quot;joe&quot;, &quot;votes&quot; : 4 &#125;, &#123; &quot;by&quot; : &quot;jane&quot;, &quot;votes&quot; : 7 &#125; ] &#125;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/atomic/" data-id="clhlnylfi00csojupgwo561xe" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/aggregate" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/aggregate/" class="article-date">
  <time datetime="2016-04-10T09:28:14.000Z" itemprop="datePublished">2016-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/aggregate/">MongoDB 聚合方法aggregate()</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>MongoDB中聚合(aggregate)主要用于处理数据(诸如统计平均值,求和等)，并返回计算后的数据结果。有点类似sql语句中的<br>count(*)。</p>
<p>MongoDB中聚合的方法使用aggregate()。</p>
<p>aggregate() 方法的基本语法格式如下所示：</p>
<pre><code>&gt;db.COLLECTION_NAME.aggregate(AGGREGATE_OPERATION)
</code></pre>
<p>一些聚合的表达式:</p>
<table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>$sum</td>
<td>计算总和。</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$sum : “$likes”}}}])</td>
</tr>
<tr>
<td>$avg</td>
<td>计算平均值</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$avg : “$likes”}}}])</td>
</tr>
<tr>
<td>min</td>
<td>获取集合中所有文档对应值得最小值。</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$min : “$likes”}}}])</td>
</tr>
<tr>
<td>$max</td>
<td>获取集合中所有文档对应值得最大值。</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, num_tutorial : {$max : “$likes”}}}])</td>
</tr>
<tr>
<td>$push</td>
<td>在结果文档中插入值到一个数组中。</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, url : {$push: “$url”}}}])</td>
</tr>
<tr>
<td>$addToSet</td>
<td>在结果文档中插入值到一个数组中，但不创建副本。</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, url : {$addToSet : “$url”}}}])</td>
</tr>
<tr>
<td>$first</td>
<td>根据资源文档的排序获取第一个文档数据。</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, first_url : {$first : “$url”}}}])</td>
</tr>
<tr>
<td>$last</td>
<td>根据资源文档的排序获取最后一个文档数据</td>
<td>db.mycol.aggregate([{$group : {_id : “$by_user”, last_url : {$last : “$url”}}}])</td>
</tr>
</tbody></table>
<p>示例：</p>
<pre><code>&gt; db.mycol.aggregate([&#123;$group : &#123;_id : &quot;$by_user&quot;, num_tutorial : &#123;$sum : 1&#125;&#125;&#125;])
&#123;
   &quot;result&quot; : [
      &#123;
         &quot;_id&quot; : &quot;w3cschool.cc&quot;,
         &quot;num_tutorial&quot; : 2
      &#125;,
      &#123;
         &quot;_id&quot; : &quot;Neo4j&quot;,
         &quot;num_tutorial&quot; : 1
      &#125;
   ],
   &quot;ok&quot; : 1
&#125;
&gt;
</code></pre>
<p>以上实例类似sql语句： select by_user, count(*) from mycol group by<br>by_user</p>
<p>在上面的例子中，我们通过字段by_user字段对数据进行分组，并计算by_user字段相同值的总和。</p>
<h2 id="管道的概念"><a href="#管道的概念" class="headerlink" title="管道的概念"></a>管道的概念</h2><p>管道在Unix和Linux中一般用于将当前命令的输出结果作为下一个命令的参数。</p>
<p>MongoDB的聚合管道将MongoDB文档在一个管道处理完毕后将结果传递给下一个管道处理。管道操作是可以重复的。</p>
<p>表达式：处理输入文档并输出。表达式是无状态的，只能用于计算当前聚合管道的文档，不能处理其它的文档。</p>
<p>这里我们介绍一下聚合框架中常用的几个操作：</p>
<ul>
<li>$project：修改输入文档的结构。可以用来重命名、增加或删除域，也可以用于创建计算结果以及嵌套文档。</li>
<li>$match：用于过滤数据，只输出符合条件的文档。$match使用MongoDB的标准查询操作。</li>
<li>$limit：用来限制MongoDB聚合管道返回的文档数。</li>
<li>$skip：在聚合管道中跳过指定数量的文档，并返回余下的文档。</li>
<li>$unwind：将文档中的某一个数组类型字段拆分成多条，每条包含数组中的一个值。</li>
<li>$group：将集合中的文档分组，可用于统计结果。</li>
<li>$sort：将输入文档排序后输出。</li>
<li>$geoNear：输出接近某一地理位置的有序文档。</li>
</ul>
<p>示例：</p>
<p>1、$project实例</p>
<pre><code>db.article.aggregate(
    &#123; $project : &#123;
        title : 1 ,
        author : 1 ,
    &#125;&#125;
 );
</code></pre>
<p>这样的话结果中就只还有_id,tilte和author三个字段了，默认情况下_id字段是被包含的，如果要想不包含_id话可以这样:</p>
<pre><code>db.article.aggregate(
    &#123; $project : &#123;
        _id : 0 ,
        title : 1 ,
        author : 1
    &#125;&#125;);
</code></pre>
<p>2.$match实例</p>
<pre><code>db.articles.aggregate( [
                        &#123; $match : &#123; score : &#123; $gt : 70, $lte : 90 &#125; &#125; &#125;,
                        &#123; $group: &#123; _id: null, count: &#123; $sum: 1 &#125; &#125; &#125;
                       ] );
</code></pre>
<p>$match用于获取分数大于70小于或等于90记录，然后将符合条件的记录送到下一阶段$group管道操作符进行处理。</p>
<p>3.$skip实例</p>
<pre><code>db.article.aggregate(
    &#123; $skip : 5 &#125;);
</code></pre>
<p>经过$skip管道操作符处理后，前五个文档被”过滤”掉。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/aggregate/" data-id="clhlnylfi00coojup1mkub0zr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/explain" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/explain/" class="article-date">
  <time datetime="2016-04-10T08:52:25.000Z" itemprop="datePublished">2016-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/explain/">MongoDB 查询分析explain()</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>MongoDB<br>查询分析可以确保我们建议的索引是否有效，是查询语句性能分析的重要工具。</p>
<p>MongoDB 查询分析常用函数有：explain() 和 hint()。</p>
<h2 id="使用-explain"><a href="#使用-explain" class="headerlink" title="使用 explain()"></a>使用 explain()</h2><p>explain操作提供了查询信息，使用索引及查询统计等。有利于我们对索引的优化。</p>
<p>接下来我们在 users 集合中创建 gender 和 user_name 的索引：</p>
<pre><code>db.users.ensureIndex(&#123;gender:1,user_name:1&#125;)
db.users.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).explain()
</code></pre>
<p>以上的 explain() 查询返回如下结果：</p>
<pre><code>&#123;
   &quot;cursor&quot; : &quot;BtreeCursor gender_1_user_name_1&quot;,
   &quot;isMultiKey&quot; : false,
   &quot;n&quot; : 1,
   &quot;nscannedObjects&quot; : 0,
   &quot;nscanned&quot; : 1,
   &quot;nscannedObjectsAllPlans&quot; : 0,
   &quot;nscannedAllPlans&quot; : 1,
   &quot;scanAndOrder&quot; : false,
   &quot;indexOnly&quot; : true,
   &quot;nYields&quot; : 0,
   &quot;nChunkSkips&quot; : 0,
   &quot;millis&quot; : 0,
   &quot;indexBounds&quot; : &#123;
      &quot;gender&quot; : [
         [
            &quot;M&quot;,
            &quot;M&quot;
         ]
      ],
      &quot;user_name&quot; : [
         [
            &#123;
               &quot;$minElement&quot; : 1
            &#125;,
            &#123;
               &quot;$maxElement&quot; : 1
            &#125;
         ]
      ]
   &#125;
&#125;
</code></pre>
<p>现在，我们看看这个结果集的字段：</p>
<ul>
<li><strong>indexOnly</strong>: 字段为 true ，表示我们使用了索引。</li>
<li><strong>cursor</strong>：因为这个查询使用了索引，MongoDB中索引存储在B树结构中，所以这是也使用了BtreeCursor类型的游标。如果没有使用索引，游标的类型是BasicCursor。这个键还会给出你所使用的索引的名称，你通过这个名称可以查看当前数据库下的system.indexes集合（系统自动创建，由于存储索引信息，这个稍微会提到）来得到索引的详细信息。</li>
<li><strong>n</strong>：当前查询返回的文档数量。</li>
<li><strong>nscanned&#x2F;nscannedObjects</strong>：表明当前这次查询一共扫描了集合中多少个文档，我们的目的是，让这个数值和返回文档的数量越接近越好。</li>
<li><strong>millis</strong>：当前查询所需时间，毫秒数。</li>
<li><strong>indexBounds</strong>：当前查询具体使用的索引。</li>
</ul>
<h2 id="使用-hint"><a href="#使用-hint" class="headerlink" title="使用 hint()"></a>使用 hint()</h2><p>虽然MongoDB查询优化器一般工作的很不错，但是也可以使用hints来强迫MongoDB使用一个指定的索引。</p>
<p>这种方法某些情形下会提升性能。</p>
<p>一个有索引的collection并且执行一个多字段的查询(一些字段已经索引了)。</p>
<p>如下查询实例指定了使用 gender 和 user_name 索引字段来查询：</p>
<pre><code>&gt;db.users.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;)
</code></pre>
<p>可以使用 explain() 函数来分析以上查询：</p>
<pre><code>&gt;db.users.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;).hint(&#123;gender:1,user_name:1&#125;).explain()
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/explain/" data-id="clhlnylfl00d4ojup428595t9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/useindex" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/useindex/" class="article-date">
  <time datetime="2016-04-10T08:37:15.000Z" itemprop="datePublished">2016-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/useindex/">MongoDB 索引的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>索引通常能够极大的提高查询的效率，如果没有索引，MongoDB在读取数据时必须扫描集合中的每个文件并选取那些符合查询条件的记录。</p>
<p>索引是特殊的数据结构，索引存储在一个易于遍历读取的数据集合中，索引是对数据库表中一列或多列的值进行排序的一种结构</p>
<h2 id="ensureIndex"><a href="#ensureIndex" class="headerlink" title="ensureIndex()"></a>ensureIndex()</h2><p>MongoDB使用 ensureIndex() 方法来创建索引。</p>
<p>ensureIndex()方法基本语法格式如下所示：</p>
<pre><code>&gt;db.COLLECTION_NAME.ensureIndex(&#123;KEY:1&#125;)
</code></pre>
<p>语法中 Key 值为你要创建的索引字段，1为指定按升序创建索引，如果你想按降序来创建索引指定为-1即可。</p>
<p>示例：</p>
<pre><code>&gt;db.col.ensureIndex(&#123;&quot;title&quot;:1&#125;)
</code></pre>
<p>ensureIndex()方法中你也可以设置使用多个字段创建索引（关系型数据库中称作复合索引）。</p>
<pre><code>&gt;db.col.ensureIndex(&#123;&quot;title&quot;:1,&quot;description&quot;:-1&#125;)
</code></pre>
<p>ensureIndex() 接收可选参数，可选参数列表如下：</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>background</td>
<td>Boolean</td>
<td>建索引过程会阻塞其它数据库操作，background可指定以后台方式创建索引，即增加 “background” 可选参数。 “background” 默认值为<strong>false</strong>。</td>
</tr>
<tr>
<td>unique</td>
<td>Boolean</td>
<td>建立的索引是否唯一。指定为true创建唯一索引。默认值为<strong>false</strong>.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>索引的名称。如果未指定，MongoDB的通过连接索引的字段名和排序顺序生成一个索引名称。</td>
</tr>
<tr>
<td>dropDups</td>
<td>Boolean</td>
<td>在建立唯一索引时是否删除重复记录,指定 true 创建唯一索引。默认值为 <strong>false</strong>.</td>
</tr>
<tr>
<td>sparse</td>
<td>Boolean</td>
<td>对文档中不存在的字段数据不启用索引；这个参数需要特别注意，如果设置为true的话，在索引字段中不会查询出不包含对应字段的文档.。默认值为 <strong>false</strong>.</td>
</tr>
<tr>
<td>expireAfterSeconds</td>
<td>integer</td>
<td>指定一个以秒为单位的数值，完成 TTL设定，设定集合的生存时间。</td>
</tr>
<tr>
<td>v</td>
<td>index version</td>
<td>索引的版本号。默认的索引版本取决于mongod创建索引时运行的版本。</td>
</tr>
<tr>
<td>weights</td>
<td>document</td>
<td>索引权重值，数值在 1 到 99,999 之间，表示该索引相对于其他索引字段的得分权重。</td>
</tr>
<tr>
<td>default_language</td>
<td>string</td>
<td>对于文本索引，该参数决定了停用词及词干和词器的规则的列表。 默认为英语</td>
</tr>
<tr>
<td>language_override</td>
<td>string</td>
<td>对于文本索引，该参数指定了包含在文档中的字段名，语言覆盖默认的language，默认值为 language.</td>
</tr>
</tbody></table>
<p>示例：</p>
<p>在后台创建索引：</p>
<pre><code>db.values.ensureIndex(&#123;open: 1, close: 1&#125;, &#123;background: true&#125;)
</code></pre>
<p>通过在创建索引时加background:true 的选项，让创建工作在后台执行</p>
<h2 id="高级索引"><a href="#高级索引" class="headerlink" title="高级索引"></a>高级索引</h2><p>考虑以下文档集合（users ）:</p>
<pre><code>&#123;
   &quot;address&quot;: &#123;
      &quot;city&quot;: &quot;Los Angeles&quot;,
      &quot;state&quot;: &quot;California&quot;,
      &quot;pincode&quot;: &quot;123&quot;
   &#125;,
   &quot;tags&quot;: [
      &quot;music&quot;,
      &quot;cricket&quot;,
      &quot;blogs&quot;
   ],
   &quot;name&quot;: &quot;Tom Benzamin&quot;
&#125;
</code></pre>
<p>以上文档包含了 address 子文档和 tags 数组。</p>
<h3 id="索引数组字段"><a href="#索引数组字段" class="headerlink" title="索引数组字段"></a>索引数组字段</h3><p>假设我们基于标签来检索用户，为此我们需要对集合中的数组 tags 建立索引。</p>
<p>在数组中创建索引，需要对数组中的每个字段依次建立索引。所以在我们为数组tags 创建索引时，会为 music、cricket、blogs三个值建立单独的索引。</p>
<p>使用以下命令创建数组索引：</p>
<pre><code>&gt;db.users.ensureIndex(&#123;&quot;tags&quot;:1&#125;)
</code></pre>
<p>创建索引后，我们可以这样检索集合的 tags 字段：</p>
<pre><code>db.users.find(&#123;tags:&quot;cricket&quot;&#125;)&gt;
</code></pre>
<p>为了验证我们使用使用了索引，可以使用 explain 命令：</p>
<pre><code>&gt;db.users.find(&#123;tags:&quot;cricket&quot;&#125;).explain()
</code></pre>
<p>以上命令执行结果中会显示 “cursor” : “BtreeCursor tags_1”，则表示已经使用了索引。</p>
<h3 id="索引子文档字段"><a href="#索引子文档字段" class="headerlink" title="索引子文档字段"></a>索引子文档字段</h3><p>假设我们需要通过city、state、pincode字段来检索文档，由于这些字段是子文档的字段，所以我们需要对子文档建立索引。</p>
<p>为子文档的三个字段创建索引，命令如下：</p>
<pre><code>&gt;db.users.ensureIndex(&#123;&quot;address.city&quot;:1,&quot;address.state&quot;:1,&quot;address.pincode&quot;:1&#125;)
</code></pre>
<p>一旦创建索引，我们可以使用子文档的字段来检索数据：</p>
<pre><code>&gt;db.users.find(&#123;&quot;address.city&quot;:&quot;Los Angeles&quot;&#125;)
</code></pre>
<p>记住查询表达式必须遵循指定的索引的顺序。所以上面创建的索引将支持以下查询：</p>
<pre><code>&gt;db.users.find(&#123;&quot;address.city&quot;:&quot;Los Angeles&quot;,&quot;address.state&quot;:&quot;California&quot;&#125;) 
</code></pre>
<p>同样支持以下查询：</p>
<pre><code>&gt;db.users.find(&#123;&quot;address.city&quot;:&quot;LosAngeles&quot;,&quot;address.state&quot;:&quot;California&quot;,&quot;address.pincode&quot;:&quot;123&quot;&#125;)
</code></pre>
<h2 id="覆盖索引查询"><a href="#覆盖索引查询" class="headerlink" title="覆盖索引查询"></a>覆盖索引查询</h2><p>官方的MongoDB的文档中说明，覆盖查询是以下的查询：</p>
<ul>
<li>所有的查询字段是索引的一部分</li>
<li>所有的查询返回字段在同一个索引中</li>
</ul>
<p>由于所有出现在查询中的字段是索引的一部分， MongoDB无需在整个数据文档中检索匹配查询条件和返回使用相同索引的查询结果。</p>
<p>因为索引存在于RAM中，从索引中获取数据比通过扫描文档读取数据要快得多。</p>
<p>我们在 users 集合中创建联合索引，字段为 gender 和 user_name :</p>
<pre><code>&gt;db.users.ensureIndex(&#123;gender:1,user_name:1&#125;)
</code></pre>
<p>现在，该索引会覆盖以下查询：</p>
<pre><code>&gt;db.users.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1,_id:0&#125;)
</code></pre>
<p>也就是说，对于上述查询，MongoDB的不会去数据库文件中查找。相反，它会从索引中提取数据，这是非常快速的数据查询。</p>
<p>由于我们的索引中不包括 _id字段，_id在查询中会默认返回，我们可以在MongoDB的查询结果集中排除它。</p>
<p>下面的实例没有排除_id，查询就不会被覆盖：</p>
<pre><code>&gt;db.users.find(&#123;gender:&quot;M&quot;&#125;,&#123;user_name:1&#125;)
</code></pre>
<h2 id="索引限制"><a href="#索引限制" class="headerlink" title="索引限制"></a>索引限制</h2><p><strong>额外开销</strong></p>
<p>每个索引占据一定的存储空间，在进行插入，更新和删除操作时也需要对索引进行操作。所以，如果你很少对集合进行读取操作，建议不使用索引。</p>
<p><strong>内存(RAM)使用</strong></p>
<p>由于索引是存储在内存(RAM)中,你应该确保该索引的大小不超过内存的限制。</p>
<p>如果索引的大小大于内存的限制，MongoDB会删除一些索引，这将导致性能下降。</p>
<p><strong>查询限制</strong></p>
<p>索引不能被以下的查询使用：</p>
<ul>
<li>正则表达式及非操作符，如 $nin, $not, 等。</li>
<li>算术运算符，如 $mod, 等。</li>
<li>$where 子句</li>
</ul>
<p>所以，检测你的语句是否使用索引是一个好的习惯，可以用explain来查看。</p>
<p><strong>索引键限制</strong></p>
<p>从2.6版本开始，如果现有的索引字段的值超过索引键的限制，MongoDB中不会创建索引。</p>
<p><strong>插入文档超过索引键限制</strong></p>
<p>如果文档的索引字段值超过了索引键的限制，MongoDB不会将任何文档转换成索引的集合。与mongorestore和mongoimport工具类似。</p>
<p><strong>最大范围</strong></p>
<ul>
<li>集合中索引不能超过64个</li>
<li>索引名的长度不能超过125个字符</li>
<li>一个复合索引最多可以有31个字段</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/useindex/" data-id="clhlnylfs00efojup3fxl1m7z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/pagesort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/pagesort/" class="article-date">
  <time datetime="2016-04-10T07:48:24.000Z" itemprop="datePublished">2016-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/pagesort/">MongoDB 分页与排序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><p>如果你需要在MongoDB中读取指定数量的数据记录，可以使用MongoDB的Limit方法，limit()方法接受一个数字参数，该参数指定从MongoDB中读取的记录条数。</p>
<p>limit()方法基本语法如下所示：</p>
<pre><code>&gt;db.COLLECTION_NAME.find().limit(NUMBER)
</code></pre>
<p>示例：</p>
<pre><code>&gt; db.col.find(&#123;&#125;,&#123;&quot;title&quot;:1,_id:0&#125;).limit(2)
</code></pre>
<p>我们除了可以使用limit()方法来读取指定数量的数据外，还可以使用skip()方法来跳过指定数量的数据，skip方法同样接受一个数字参数作为跳过的记录条数。</p>
<p>skip() 方法脚本语法格式如下：</p>
<pre><code>&gt;db.COLLECTION_NAME.find().limit(NUMBER).skip(NUMBER)
</code></pre>
<p>示例：</p>
<pre><code>&gt;db.col.find(&#123;&#125;,&#123;&quot;title&quot;:1,_id:0&#125;).limit(1).skip(1)
</code></pre>
<p>limit配合skip可以完成分页功能。</p>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><p>在MongoDB中使用使用sort()方法对数据进行排序，sort()方法可以通过参数指定排序的字段，并使用1 和 -1 来指定排序的方式，其中 1 为升序排列，而-1是用于降序排列。</p>
<p>sort()方法基本语法如下所示：</p>
<pre><code>&gt;db.COLLECTION_NAME.find().sort(&#123;KEY:1&#125;)
</code></pre>
<p>示例：</p>
<pre><code>&gt;db.col.find(&#123;&#125;,&#123;&quot;title&quot;:1,_id:0&#125;).sort(&#123;&quot;likes&quot;:-1&#125;)
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/pagesort/" data-id="clhlnylfo00dpojup4iu2773l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/zsgc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/zsgc/" class="article-date">
  <time datetime="2016-04-09T10:03:56.000Z" itemprop="datePublished">2016-04-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/zsgc/">MongoDB 文档的增删改查</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="插入文档"><a href="#插入文档" class="headerlink" title="插入文档"></a>插入文档</h2><p>MongoDB 使用 insert() 或 save() 方法向集合中插入文档，语法如下：</p>
<pre><code>db.COLLECTION_NAME.insert(document)
</code></pre>
<p>插入文档你也可以使用 db.col.save(document) 命令。如果不指定 _id 字段save() 方法类似于insert() 方法。如果指定 _id 字段，则会更新该 _id的数据。</p>
<p>示例：</p>
<pre><code>&gt;db.col.insert(&#123;title: &#39;MongoDB 教程&#39;, 
    description: &#39;MongoDB 是一个 Nosql 数据库&#39;,
    url: &#39;http://www.iteedu.com&#39;,
    tags: [&#39;mongodb&#39;, &#39;database&#39;, &#39;NoSQL&#39;],
    likes: 100
&#125;)
</code></pre>
<p>我们也可以将数据定义为一个变量再插入，如下所示：</p>
<pre><code>&gt; document=(&#123;title: &#39;MongoDB 教程&#39;, 
    description: &#39;MongoDB 是一个 Nosql 数据库&#39;,
    url: &#39;http://www.iteedu.com&#39;,
    tags: [&#39;mongodb&#39;, &#39;database&#39;, &#39;NoSQL&#39;],
    likes: 100
&#125;);
&gt; db.col.insert(document)
WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)
&gt; 
</code></pre>
<h2 id="更新文档"><a href="#更新文档" class="headerlink" title="更新文档"></a>更新文档</h2><p>update() 方法用于更新已存在的文档。语法格式如下：</p>
<pre><code>db.collection.update(
   &lt; query&gt;,
   &lt; update&gt;,
   &#123;
     upsert: &lt; boolean&gt;,
     multi: &lt; boolean&gt;,
     writeConcern: &lt; document&gt;
   &#125;
)
</code></pre>
<p><strong>参数说明：</strong></p>
<ul>
<li><strong>query</strong> : update的查询条件，类似sql update查询内where后面的。</li>
<li><strong>update</strong> :update的对象和一些更新的操作符（如$,$inc…）等，也可以理解为sql update查询内set后面的</li>
<li><strong>upsert</strong> : 可选，这个参数的意思是，如果不存在update的记录，是否插入objNew,true为插入，默认是false，不插入。</li>
<li><strong>multi</strong> : 可选，mongodb 默认是false,只更新找到的第一条记录，如果这个参数为true,就把按条件查出来多条记录全部更新。</li>
<li><strong>writeConcern</strong> :可选，抛出异常的级别。</li>
</ul>
<p>示例</p>
<pre><code>&gt;db.col.update(&#123;&#39;title&#39;:&#39;MongoDB 教程&#39;&#125;,&#123;$set:&#123;&#39;title&#39;:&#39;MongoDB&#39;&#125;&#125;)
WriteResult(&#123; &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 &#125;)   # 输出信息
</code></pre>
<p>以上语句只会修改第一条发现的文档，如果你要修改多条相同的文档，则需要设置multi 参数为 true。</p>
<pre><code>&gt;db.col.update(&#123;&#39;title&#39;:&#39;MongoDB 教程&#39;&#125;,&#123;$set:&#123;&#39;title&#39;:&#39;MongoDB&#39;&#125;&#125;,&#123;multi:true&#125;)
</code></pre>
<h2 id="save-方法"><a href="#save-方法" class="headerlink" title="save() 方法"></a>save() 方法</h2><p>save() 方法通过传入的文档来替换已有文档。语法格式如下：</p>
<pre><code>db.collection.save(
   &lt; document&gt;,
   &#123;
     writeConcern: &lt; document&gt;
   &#125;
)
</code></pre>
<p><strong>参数说明：</strong></p>
<ul>
<li><strong>document</strong> : 文档数据。</li>
<li><strong>writeConcern</strong> :可选，抛出异常的级别。</li>
</ul>
<h2 id="删除文档"><a href="#删除文档" class="headerlink" title="删除文档"></a>删除文档</h2><p>remove() 方法的基本语法格式如下所示：</p>
<pre><code>db.collection.remove(
   &lt; query&gt;,
   &#123;
     justOne: &lt; boolean&gt;,
     writeConcern: &lt; document&gt;
   &#125;
)
</code></pre>
<p><strong>参数说明：</strong></p>
<ul>
<li><strong>query</strong> :（可选）删除的文档的条件。</li>
<li><strong>justOne</strong> : （可选）如果设为 true 或 1，则只删除一个文档。</li>
<li><strong>writeConcern</strong> :（可选）抛出异常的级别。</li>
</ul>
<p>示例</p>
<pre><code>&gt;db.col.remove(&#123;&#39;title&#39;:&#39;MongoDB 教程&#39;&#125;)
WriteResult(&#123; &quot;nRemoved&quot; : 2 &#125;)           # 删除了两条数据
&gt;db.col.find()
……                                        # 没有数据
</code></pre>
<p>如果你想删除所有数据，可以使用以下方式（类似常规 SQL 的 truncate命令）：</p>
<pre><code>&gt;db.col.remove(&#123;&#125;)
</code></pre>
<h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><p>MongoDB 查询数据的语法格式如下：</p>
<pre><code>&gt;db.COLLECTION_NAME.find()
</code></pre>
<p>find()方法以非结构化的方式来显示所有文档。如果你需要以易读的方式来读取数据，可以使用pretty() 方法，语法格式如下：</p>
<pre><code>&gt;db.col.find().pretty()
</code></pre>
<p>除了 find() 方法之外，还有一个 findOne() 方法，它只返回一个文档。</p>
<p>MongoDB 的 find() 方法可以传入多个键(key)，每个键(key)以逗号隔开，及常规SQL 的 AND 条件。语法格式如下：</p>
<pre><code>&gt;db.col.find(&#123;key1:value1, key2:value2&#125;).pretty()
</code></pre>
<p>MongoDB OR 条件语句使用了关键字 $or,语法格式如下：</p>
<pre><code>&gt;db.col.find(
   &#123;
      $or: [
         &#123;key1: value1&#125;, &#123;key2:value2&#125;
      ]
   &#125;
).pretty()
</code></pre>
<p>以下实例演示了 AND 和 OR 联合使用</p>
<pre><code>&gt;db.col.find(&#123;&quot;likes&quot;: &#123;$gt:50&#125;, $or: [&#123;&quot;url&quot;: &quot;http://www.iteedu.com&quot;&#125;,&#123;&quot;title&quot;: &quot;MongoDB 教程&quot;&#125;]&#125;).pretty()
</code></pre>
<h2 id="条件操作符"><a href="#条件操作符" class="headerlink" title="条件操作符"></a>条件操作符</h2><p>条件操作符用于比较两个表达式并从mongoDB集合中获取数据。</p>
<p>MongoDB中条件操作符有：</p>
<ul>
<li>(&gt;) 大于 - $gt</li>
<li>(&lt;) 小于 - $lt</li>
<li>(&gt;&#x3D;) 大于等于 - $gte</li>
<li>(&lt;&#x3D; ) 小于等于 - $lte</li>
</ul>
<p><strong>MongoDB (&gt;) 大于操作符 - $gt</strong></p>
<p>如果你想获取 “col” 集合中 “likes” 大于 100 的数据，你可以使用以下命令：</p>
<pre><code>db.col.find(&#123;&quot;likes&quot; : &#123;$gt : 100&#125;&#125;)
</code></pre>
<p>类似于SQL语句：</p>
<pre><code>Select * from col where likes &gt; 100;
</code></pre>
<p><strong>MongoDB（&gt;&#x3D;）大于等于操作符 - $gte</strong></p>
<p>如果你想获取”col”集合中 “likes” 大于等于 100的数据，你可以使用以下命令：</p>
<pre><code>db.col.find(&#123;likes : &#123;$gte : 100&#125;&#125;)
</code></pre>
<p>类似于SQL语句：</p>
<pre><code>Select * from col where likes &gt;=100;
</code></pre>
<p><strong>MongoDB (&lt;) 小于操作符 - $lt</strong></p>
<p>如果你想获取”col”集合中 “likes” 小于 150 的数据，你可以使用以下命令：</p>
<pre><code>db.col.find(&#123;likes : &#123;$lt : 150&#125;&#125;)
</code></pre>
<p>类似于SQL语句：</p>
<pre><code>Select * from col where likes &lt; 150;
</code></pre>
<p><strong>MongoDB (&lt;&#x3D;) 小于操作符 - $lte</strong></p>
<p>如果你想获取”col”集合中 “likes” 小于等于 150的数据，你可以使用以下命令：</p>
<pre><code>db.col.find(&#123;likes : &#123;$lte : 150&#125;&#125;)
</code></pre>
<p>类似于SQL语句：</p>
<pre><code>Select * from col where likes &lt;= 150;
</code></pre>
<p><strong>MongoDB 使用 (&lt;) 和 (&gt;) 查询 - $lt 和 $gt</strong></p>
<p>如果你想获取”col”集合中 “likes” 大于100，小于 200的数据，你可以使用以下命令：</p>
<pre><code>db.col.find(&#123;likes : &#123;$lt :200, $gt : 100&#125;&#125;)
</code></pre>
<p>类似于SQL语句：</p>
<pre><code>Select * from col where likes&gt;100 AND  likes&lt;200;
</code></pre>
<h2 id="type-操作符"><a href="#type-操作符" class="headerlink" title="$type 操作符"></a>$type 操作符</h2><p>$type操作符是基于BSON类型来检索集合中匹配的数据类型，并返回结果。</p>
<p>MongoDB 中可以使用的类型如下表所示：</p>
<table>
<thead>
<tr>
<th><strong>类型</strong></th>
<th><strong>数字</strong></th>
<th><strong>备注</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Double</td>
<td>1</td>
<td>?</td>
</tr>
<tr>
<td>String</td>
<td>2</td>
<td>?</td>
</tr>
<tr>
<td>Object</td>
<td>3</td>
<td>?</td>
</tr>
<tr>
<td>Array</td>
<td>4</td>
<td>?</td>
</tr>
<tr>
<td>Binary data</td>
<td>5</td>
<td>?</td>
</tr>
<tr>
<td>Undefined</td>
<td>6</td>
<td>已废弃。</td>
</tr>
<tr>
<td>Object id</td>
<td>7</td>
<td>?</td>
</tr>
<tr>
<td>Boolean</td>
<td>8</td>
<td>?</td>
</tr>
<tr>
<td>Date</td>
<td>9</td>
<td>?</td>
</tr>
<tr>
<td>Null</td>
<td>10</td>
<td>?</td>
</tr>
<tr>
<td>Regular Expression</td>
<td>11</td>
<td>?</td>
</tr>
<tr>
<td>JavaScript</td>
<td>13</td>
<td>?</td>
</tr>
<tr>
<td>Symbol</td>
<td>14</td>
<td>?</td>
</tr>
<tr>
<td>JavaScript (with scope)</td>
<td>15</td>
<td>?</td>
</tr>
<tr>
<td>32-bit integer</td>
<td>16</td>
<td>?</td>
</tr>
<tr>
<td>Timestamp</td>
<td>17</td>
<td>?</td>
</tr>
<tr>
<td>64-bit integer</td>
<td>18</td>
<td>?</td>
</tr>
<tr>
<td>Min key</td>
<td>255</td>
<td>Query with <code>-1</code>.</td>
</tr>
<tr>
<td>Max key</td>
<td>127</td>
<td>?</td>
</tr>
</tbody></table>
<p>示例：</p>
<p>如果想获取 “col” 集合中 title 为 String 的数据，你可以使用以下命令：</p>
<pre><code>db.col.find(&#123;&quot;title&quot; : &#123;$type : 2&#125;&#125;)
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/zsgc/" data-id="clhlnylfq00e4ojupboi382yy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/createdropdb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/createdropdb/" class="article-date">
  <time datetime="2016-04-09T09:06:00.000Z" itemprop="datePublished">2016-04-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/createdropdb/">MongoDB 创建删除数据库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p>MongoDB 创建数据库的语法格式如下：</p>
<pre><code>use DATABASE_NAME
</code></pre>
<p>如果数据库不存在，则创建数据库，否则切换到指定数据库。</p>
<h2 id="当前数据库连接"><a href="#当前数据库连接" class="headerlink" title="当前数据库连接"></a>当前数据库连接</h2><p>当前数据库连接为全局变量db，可以通过db操作集合和文档。</p>
<p>MongoDB 中默认的数据库为 test，如果你没有创建新的数据库，集合将存放在test 数据库中。</p>
<h2 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h2><p>如果你想查看所有数据库，可以使用 show dbs 命令：</p>
<pre><code>&gt; show dbs
local  0.078GB
test   0.078GB
&gt; 
</code></pre>
<p>刚创建的数据库并不在数据库的列表中，<br>要显示它，我们需要向数据库插入一些数据。</p>
<pre><code>&gt; db.iteedu.insert(&#123;&quot;name&quot;:&quot;iteedu&quot;&#125;)
WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)
&gt; show dbs
local   0.000GB
iteedu  0.000GB
test    0.000GB
&gt; 
</code></pre>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><p>MongoDB 删除数据库的语法格式如下：</p>
<pre><code>db.dropDatabase()
</code></pre>
<p>删除当前数据库，默认为 test，你可以使用 db 命令查看当前数据库名。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/createdropdb/" data-id="clhlnylfk00d1ojup297ieuqf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/connection" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/connection/" class="article-date">
  <time datetime="2016-04-09T07:55:19.000Z" itemprop="datePublished">2016-04-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/connection/">MongoDB 连接</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在本教程我们将讨论 MongoDB 的不同连接方式。</p>
<h2 id="启动-MongoDB服务"><a href="#启动-MongoDB服务" class="headerlink" title="启动 MongoDB服务"></a>启动 MongoDB服务</h2><p>在前面的教程中，我们已经讨论<a href="/mongodb/mongodb-window-install.html">了如何启动MongoDB服</a>务，你只需要在MongoDB安装目录的bin目录下执行’mongod’即可。</p>
<p>执行启动操作后，mongodb在输出一些必要信息后不会输出任何信息，之后就等待连接的建立，当连接被建立后，就会开始打印日志信息。</p>
<p>你可以使用 MongoDB shell 来连接 MongoDB 服务器。你也可以使用 PHP 来连接MongoDB。本教程我们会使用 MongoDB shell 来连接 Mongodb服务，之后的章节我们将会介绍如何通过php 来连接MongoDB服务。</p>
<h2 id="通过shell连接MongoDB服务"><a href="#通过shell连接MongoDB服务" class="headerlink" title="通过shell连接MongoDB服务"></a>通过shell连接MongoDB服务</h2><p>你可以通过执行以下命令来连接MongoDB的服务。</p>
<p><strong>注意：</strong>localhost为主机名，这个选项是必须的：</p>
<pre><code>mongodb://localhost
</code></pre>
<p>当你执行以上命令时，你可以看到以下输出结果：</p>
<pre><code>$ ./mongo
MongoDB shell version: 3.0.6
connecting to: test
&gt; mongodb://localhostmongodb://localhost
... 
</code></pre>
<p>这时候你返回查看运行 <strong>.&#x2F;mongod</strong>命令的窗口，可以看到是从哪里连接到MongoDB的服务器，您可以看到如下信息：</p>
<pre><code>……省略信息……
2015-09-25T17:22:27.336+0800 I CONTROL  [initandlisten] allocator: tcmalloc
2015-09-25T17:22:27.336+0800 I CONTROL  [initandlisten] options: &#123; storage: &#123; dbPath: &quot;/data/db&quot; &#125; &#125;
2015-09-25T17:22:27.350+0800 I NETWORK  [initandlisten] waiting for connections on port 27017
2015-09-25T17:22:36.012+0800 I NETWORK  [initandlisten] connection accepted from 127.0.0.1:37310 #1 (1 connection now open)  # 该行表明一个来自本机的连接

……省略信息……
</code></pre>
<h2 id="MongoDB连接命令格式"><a href="#MongoDB连接命令格式" class="headerlink" title="MongoDB连接命令格式"></a>MongoDB连接命令格式</h2><p>使用用户名和密码连接到MongoDB服务器，你必须使用’<strong>username:password@hostname&#x2F;dbname</strong>‘格式，’username’为用户名，’password’ 为密码。</p>
<p>使用用户名和密码连接登陆到默认数据库：</p>
<pre><code>$ ./mongo
MongoDB shell version: 3.0.6
connecting to: test
mongodb://admin:123456@localhost/
</code></pre>
<p>以上命令中，用户 admin 使用密码 123456 连接到本地的 MongoDB服务上。输出结果如下所示：</p>
<pre><code>&gt; mongodb://admin:123456@localhost/
... 
</code></pre>
<p>使用用户名和密码连接登陆到指定数据库：</p>
<p>连接到指定数据库的格式如下：</p>
<pre><code>mongodb://admin:123456@localhost/test
</code></pre>
<h2 id="更多连接实例"><a href="#更多连接实例" class="headerlink" title="更多连接实例"></a>更多连接实例</h2><p>连接本地数据库服务器，端口是默认的。</p>
<pre><code>mongodb://localhost
</code></pre>
<p>使用用户名fred，密码foobar登录localhost的admin数据库。</p>
<pre><code>mongodb://fred:foobar@localhost
</code></pre>
<p>使用用户名fred，密码foobar登录localhost的baz数据库。</p>
<pre><code>mongodb://fred:foobar@localhost/baz
</code></pre>
<p>连接 replica pair, 服务器1为example1.com服务器2为example2。</p>
<pre><code>mongodb://example1.com:27017,example2.com:27017
</code></pre>
<p>连接 replica set 三台服务器 (端口 27017, 27018, 和27019):</p>
<pre><code>mongodb://localhost,localhost:27018,localhost:27019
</code></pre>
<p>连接 replica set 三台服务器, 写入操作应用在主服务器<br>并且分布查询到从服务器。</p>
<pre><code>mongodb://host1,host2,host3/?slaveOk=true
</code></pre>
<p>直接连接第一个服务器，无论是replica set一部分或者主服务器或者从服务器。</p>
<pre><code>mongodb://host1,host2,host3/?connect=direct;slaveOk=true
</code></pre>
<p>当你的连接服务器有优先级，还需要列出所有服务器，你可以使用上述连接方式。</p>
<p>安全模式连接到localhost:</p>
<pre><code>mongodb://localhost/?safe=true
</code></pre>
<p>以安全模式连接到replica<br>set，并且等待至少两个复制服务器成功写入，超时时间设置为2秒。</p>
<pre><code>mongodb://host1,host2,host3/?safe=true;w=2;wtimeoutMS=2000
</code></pre>
<h2 id="参数选项说明"><a href="#参数选项说明" class="headerlink" title="参数选项说明"></a>参数选项说明</h2><p>标准格式：</p>
<pre><code>mongodb://\[username:password@\]host1\[:port1\]\[,host2\[:port2\],...\[,hostN\[:portN\]\]\]\[/\[database\]\[?options\]\]
</code></pre>
<p>标准的连接格式包含了多个选项(options)，如下所示：</p>
<table><tbody><tr><th>选项</th><th>描述</th></tr><tr><td>replicaSet=name</td><td>验证replica set的名称。 Impliesconnect=replicaSet.</td></tr><tr><td>slaveOk=true|false</td><td><ul><li>true:在connect=direct模式下，驱动会连接第一台机器，即使这台服务器不是主。在connect=replicaSet模式下，驱动会发送所有的写请求到主并且把读取操作分布在其他从服务器。</li><li>false: 在 connect=direct模式下，驱动会自动找寻主服务器. 在connect=replicaSet 模式下，驱动仅仅连接主服务器，并且所有的读写命令都连接到主服务器。</li></ul></td></tr><tr><td>safe=true|false</td><td><ul><li>true: 在执行更新操作之后，驱动都会发送getLastError命令来确保更新成功。(还要参考 wtimeoutMS).</li><li>false: 在每次更新之后，驱动不会发送getLastError来确保更新成功。</li></ul></td></tr><tr><td>w=n</td><td>驱动添加 { w : n } 到getLastError命令. 应用于safe=true。</td></tr><tr><td>wtimeoutMS=ms</td><td>驱动添加 { wtimeout : ms } 到 getlasterror 命令. 应用于 safe=true.</td></tr><tr><td>fsync=true|false</td><td><ul><li>true: 驱动添加 { fsync : true } 到 getlasterror 命令.应用于 safe=true.</li><li>false: 驱动不会添加到getLastError命令中。</li></ul></td></tr><tr><td>journal=true|false</td><td>如果设置为 true, 同步到 journal (在提交到数据库前写入到实体中). 应用于 safe=true</td></tr><tr><td>connectTimeoutMS=ms</td><td>可以打开连接的时间。</td></tr><tr><td>socketTimeoutMS=ms</td><td>发送和接受sockets的时间。</td></tr></tbody></table>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/connection/" data-id="clhlnylfm00d9ojup5fby00qc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/base" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/base/" class="article-date">
  <time datetime="2016-04-09T07:41:46.000Z" itemprop="datePublished">2016-04-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/base/">MongoDB  概念解析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>不管我们学习什么数据库都应该学习其中的基础概念，在mongodb中基本的概念是文档、集合、数据库，下面我们挨个介绍。</p>
<p>下表将帮助您更容易理解Mongo中的一些概念：</p>
<table>
<thead>
<tr>
<th>SQL术语&#x2F;概念</th>
<th>MongoDB术语&#x2F;概念</th>
<th>解释&#x2F;说明</th>
</tr>
</thead>
<tbody><tr>
<td>database</td>
<td>database</td>
<td>数据库</td>
</tr>
<tr>
<td>table</td>
<td>collection</td>
<td>数据库表&#x2F;集合</td>
</tr>
<tr>
<td>row</td>
<td>document</td>
<td>数据记录行&#x2F;文档</td>
</tr>
<tr>
<td>column</td>
<td>field</td>
<td>数据字段&#x2F;域</td>
</tr>
<tr>
<td>index</td>
<td>index</td>
<td>索引</td>
</tr>
<tr>
<td>table joins</td>
<td>?</td>
<td>表连接,MongoDB不支持</td>
</tr>
<tr>
<td>primary key</td>
<td>primary key</td>
<td>主键,MongoDB自动将_id字段设置为主键</td>
</tr>
</tbody></table>
<p>通过下图实例，我们也可以更直观的的了解Mongo中的一些概念：</p>
<p><img src="/images/mongodb/tablecollection.png"></p>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>一个mongodb中可以建立多个数据库。</p>
<p>MongoDB的默认数据库为”db”，该数据库存储在data目录中。</p>
<p>MongoDB的单个实例可以容纳多个独立的数据库，每一个都有自己的集合和权限，不同的数据库也放置在不同的文件中。</p>
<p><strong>“show dbs”</strong> 命令可以显示所有数据的列表。</p>
<pre><code>$ ./mongo
MongoDB shell version: 3.0.6
connecting to: test
&gt; show dbs
local  0.078GB
test   0.078GB
&gt; 
</code></pre>
<p>执行 <strong>“db”</strong> 命令可以显示当前数据库对象或集合。</p>
<pre><code>$ ./mongo
MongoDB shell version: 3.0.6
connecting to: test
&gt; db
test
&gt; 
</code></pre>
<p>运行”use”命令，可以连接到一个指定的数据库。</p>
<pre><code>&gt; use local
switched to db local
&gt; db
local
&gt; 
</code></pre>
<p>以上实例命令中，”local” 是你要链接的数据库。</p>
<p>在下一个章节我们将详细讲解MongoDB中命令的使用。</p>
<p>数据库也通过名字来标识。数据库名可以是满足以下条件的任意UTF-8字符串。</p>
<ul>
<li>不能是空字符串（””)。</li>
<li>不得含有’ ‘（空格)、.、$、&#x2F;、\和\0 (空宇符)。</li>
<li>应全部小写。</li>
<li>最多64字节。</li>
</ul>
<p>有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库。</p>
<ul>
<li><strong>admin</strong>：从权限的角度来看，这是”root”数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。</li>
<li>**local:**这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合</li>
<li><strong>config</strong>:当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的相关信息。</li>
</ul>
<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p>文档是一个键值(key-value)对(即BSON)。MongoDB的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型，这与关系型数据库有很大的区别，也是MongoDB 非常突出的特点。</p>
<p>一个简单的文档例子如下：</p>
<pre><code>&#123;&quot;site&quot;:&quot;www.runoob.com&quot;, &quot;name&quot;:&quot;菜鸟教程&quot;&#125;
</code></pre>
<p>下表列出了 RDBMS 与 MongoDB 对应的术语：</p>
<table><tbody><tr><th style="width:50%;">RDBMS</th><th>MongoDB</th></tr><tr><td>数据库</td><td>数据库</td></tr><tr><td>表格</td><td>集合</td></tr><tr><td>行</td><td>文档</td></tr><tr><td>列</td><td>字段</td></tr><tr><td>表联合</td><td>嵌入文档</td></tr><tr><td>主键</td><td>主键 (MongoDB 提供了 key  为 _id )</td></tr><tr><th colspan="2" style="text-align:center;">数据库服务和客户端</th></tr><tr><td>Mysqld/Oracle</td><td>mongod</td></tr><tr><td>mysql/sqlplus</td><td>mongo</td></tr></tbody></table>
需要注意的是：

<ol>
<li>文档中的键&#x2F;值对是有序的。</li>
<li>文档中的值不仅可以是在双引号里面的字符串，还可以是其他几种数据类型（甚至可以是整个嵌入的文档)。</li>
<li>MongoDB区分类型和大小写。</li>
<li>MongoDB的文档不能有重复的键。</li>
<li>文档的键是字符串。除了少数例外情况，键可以使用任意UTF-8字符。</li>
</ol>
<p>文档键命名规范：</p>
<ul>
<li>键不能含有\0 (空字符)。这个字符用来表示键的结尾。</li>
<li>.和$有特别的意义，只有在特定环境下才能使用。</li>
<li>以下划线”_“开头的键是保留的(不是严格要求的)。</li>
</ul>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>集合就是 MongoDB 文档组，类似于 RDBMS （关系数据库管理系统：Relational Database Management System)中的表格。</p>
<p>集合存在于数据库中，集合没有固定的结构，这意味着你在对集合可以插入不同格式和类型的数据，但通常情况下我们插入集合的数据都会有一定的关联性。</p>
<p>比如，我们可以将以下不同数据结构的文档插入到集合中：</p>
<pre><code>&#123;&quot;site&quot;:&quot;www.baidu.com&quot;&#125;
&#123;&quot;site&quot;:&quot;www.google.com&quot;,&quot;name&quot;:&quot;Google&quot;&#125;
&#123;&quot;site&quot;:&quot;www.runoob.com&quot;,&quot;name&quot;:&quot;菜鸟教程&quot;,&quot;num&quot;:5&#125;
</code></pre>
<p>当第一个文档插入时，集合就会被创建。</p>
<h3 id="合法的集合名"><a href="#合法的集合名" class="headerlink" title="合法的集合名"></a>合法的集合名</h3><ul>
<li>集合名不能是空字符串””。</li>
<li>集合名不能含有\0字符（空字符)，这个字符表示集合名的结尾。</li>
<li>集合名不能以”system.”开头，这是为系统集合保留的前缀。</li>
<li>用户创建的集合名字不能含有保留字符。有些驱动程序的确支持在集合名里面包含，这是因为某些系统生成的集合中包含该字符。除非你要访问这种系统创建的集合，否则千万不要在名字里出现$。</li>
</ul>
<p>　</p>
<p>如下实例：</p>
<pre><code>db.col.findOne()
</code></pre>
<h3 id="capped-collections"><a href="#capped-collections" class="headerlink" title="capped collections"></a>capped collections</h3><p>Capped collections 就是固定大小的collection。</p>
<p>它有很高的性能以及队列过期的特性(过期按照插入的顺序). 有点和 “RRD”概念类似。</p>
<p>Capped collections是高性能自动的维护对象的插入顺序。它非常适合类似记录日志的功能和标准的collection不同，你必须要显式的创建一个capped collection，指定一个collection的大小，单位是字节。collection的数据存储空间值提前分配的。</p>
<p>要注意的是指定的存储大小包含了数据库的头信息。</p>
<pre><code>db.createCollection(&quot;mycoll&quot;, &#123;capped:true, size:100000&#125;)
</code></pre>
<ul>
<li>在capped collection中，你能添加新的对象。</li>
<li>能进行更新，然而，对象不会增加存储空间。如果增加，更新就会失败 。</li>
<li>数据库不允许进行删除。使用drop()方法删除collection所有的行。</li>
<li>注意: 删除之后，你必须显式的重新创建这个collection。</li>
<li>在32bit机器中，capped collection最大存储为1e9( 1X109)个字节。</li>
</ul>
<h2 id="元数据"><a href="#元数据" class="headerlink" title="元数据"></a>元数据</h2><p>数据库的信息是存储在集合中。它们使用了系统的命名空间：</p>
<pre><code>dbname.system.*
</code></pre>
<p>在MongoDB数据库中名字空间 .system.*是包含多种系统信息的特殊集合(Collection)，如下:</p>
<p>|集合命名空间              | 描述<br>|————————-|- ——————————————-<br>|dbname.system.namespaces |  列出所有名字空间。<br>|dbname.system.indexes    |  列出所有索引。<br>|dbname.system.profile    |  包含数据库概要(profile)信息。<br>|dbname.system.users      |  列出所有可访问数据库的用户。<br>|dbname.local.sources     |  包含复制对端（slave）的服务器信息和状态。</p>
<p>对于修改系统集合中的对象有如下限制。</p>
<p>在插入数据，可以创建索引。但除此之外该表信息是不可变的(特殊的drop index命令将自动更新相关信息)。</p>
是可修改的。 是可删除的。

<h2 id="MongoDB-数据类型"><a href="#MongoDB-数据类型" class="headerlink" title="MongoDB 数据类型"></a>MongoDB 数据类型</h2><p>下表为MongoDB中常用的几种数据类型。</p>
<p>  |数据类型            |描述                                                                                                       |<br>  |——————–|—|-<br>  |String              |字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。|<br>  |Integer             |整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。|<br>  |Boolean             |布尔值。用于存储布尔值（真&#x2F;假）。|<br>  |Double              |双精度浮点值。用于存储浮点值。|<br>  |Min&#x2F;Max keys        |将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。|<br>  |Arrays              |用于将数组或列表或多个值存储为一个键。|<br>  |Timestamp           |时间戳。记录文档修改或添加的具体时间。|<br>  |Object              |用于内嵌文档。|<br>  |Null                |用于创建空值。|<br>  |Symbol              |符号。该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。                     |<br>  |Date                |日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。 |<br>  |Object ID           |对象 ID。用于创建文档的 ID。|<br>  |Binary Data         |二进制数据。用于存储二进制数据。|<br>  |Code                |代码类型。用于在文档中存储 JavaScript 代码。|<br>  |Regular expression  |正则表达式类型。用于存储正则表达式。|</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/base/" data-id="clhlnylfk00cxojup3cub1pqm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blog/nosql/mongodb/mongodbweb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/nosql/mongodb/mongodbweb/" class="article-date">
  <time datetime="2016-04-09T03:48:24.000Z" itemprop="datePublished">2016-04-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/nosql/">nosql</a>►<a class="article-category-link" href="/categories/nosql/MongoDB/">MongoDB</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/nosql/mongodb/mongodbweb/">MongoDb web 用户界面</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>MongoDB 提供了简单的 HTTP 用户界面。</p>
<p>如果你想启用该功能，需要在启动的时候指定参数 –rest 。</p>
<pre><code>$ ./mongod --dbpath=/data/db --rest
</code></pre>
<p>MongoDB 的 Web 界面访问端口比服务的端口多1000。</p>
<p>如果你的MongoDB运行端口使用默认的27017，你可以在端口号为28017访问web用户界面，即地址为：<a href="http://localhost:28017。">http://localhost:28017。</a></p>
<p><img src="/images/mongodb/mongodb-web.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.onekbase.com/blog/nosql/mongodb/mongodbweb/" data-id="clhlnylfp00dsojup43bo0s7f" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/9/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/37/">37</a><a class="extend next" rel="next" href="/page/11/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA-WEB/">JAVA WEB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA-WEB/Spring-Boot/">Spring Boot</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/">nosql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/MongoDB/">MongoDB</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E9%9B%86/">字符集</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/spark/">spark</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/Emacs/">Emacs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/GIT/">GIT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/VIM/">VIM</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">自制操作系统</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/SSO/">SSO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E4%B8%80%E8%87%B4%E6%80%A7/">一致性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/">任务调度</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/">反向代理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E5%AF%86%E7%A0%81%E6%9C%AF/">密码术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/JMS/">JMS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E7%BB%84%E4%BB%B6/">组件</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">负载均衡</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/">知识体系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/">排序</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E6%A0%91%E7%AE%97%E6%B3%95/">树算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/">JAVA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/BASE/">BASE</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/IO/">IO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/JAVA8/">JAVA8</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/NIO/">NIO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JAVA/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/">线程安全</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lisp/">Lisp</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Lisp/Common-Lisp/">Common Lisp</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Scala/">Scala</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/javascript/">javascript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASCII%E7%A0%81/" rel="tag">ASCII码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ActiveMQ/" rel="tag">ActiveMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/" rel="tag">Ajax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BAT%E8%84%9A%E6%9C%AC/" rel="tag">BAT脚本</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAP/" rel="tag">CAP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAS/" rel="tag">CAS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Common-Lisp/" rel="tag">Common Lisp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C%E8%AF%AD%E8%A8%80/" rel="tag">C语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eclipse/" rel="tag">Eclipse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Emacs/" rel="tag">Emacs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Emmet/" rel="tag">Emmet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GIT/" rel="tag">GIT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpClient/" rel="tag">HttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IPFS/" rel="tag">IPFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA/" rel="tag">JAVA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA-IO/" rel="tag">JAVA IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA-NIO/" rel="tag">JAVA NIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA-WEB/" rel="tag">JAVA WEB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA8/" rel="tag">JAVA8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JWT/" rel="tag">JWT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lisp/" rel="tag">Lisp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scala/" rel="tag">Scala</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shiro/" rel="tag">Shiro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Boot/" rel="tag">Spring Boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-MVC/" rel="tag">Spring MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML/" rel="tag">UML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIM/" rel="tag">VIM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WEB%E5%BC%80%E5%8F%91/" rel="tag">WEB开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/" rel="tag">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/archtype/" rel="tag">archtype</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azkaban/" rel="tag">azkaban</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/" rel="tag">hive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/" rel="tag">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nosql/" rel="tag">nosql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nosql-neo4j/" rel="tag">nosql neo4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openssl/" rel="tag">openssl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servlet/" rel="tag">servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webservice/" rel="tag">webservice</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7/" rel="tag">一致性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" rel="tag">任务调度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/" rel="tag">字符编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E7%AC%A6%E9%9B%86/" rel="tag">字符集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%A1%E8%AE%A1/" rel="tag">审计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%86%E7%A0%81%E6%9C%AF/" rel="tag">密码术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%BE%E9%80%92%E5%BD%92/" rel="tag">尾递归</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91/" rel="tag">并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95/" rel="tag">摘要算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" rel="tag">数字签名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6/" rel="tag">数字证书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%9D%83%E9%99%90/" rel="tag">数据权限</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E7%AE%97%E6%B3%95/" rel="tag">树算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E8%A7%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正规表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag">消息队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/" rel="tag">知识体系</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A5%9E%E5%99%A8/" rel="tag">神器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" rel="tag">线程安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">自制操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="tag">负载均衡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%94%81/" rel="tag">锁</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10.5px;">AOP</a> <a href="/tags/ASCII%E7%A0%81/" style="font-size: 10px;">ASCII码</a> <a href="/tags/ActiveMQ/" style="font-size: 11px;">ActiveMQ</a> <a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/BAT%E8%84%9A%E6%9C%AC/" style="font-size: 10px;">BAT脚本</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CAS/" style="font-size: 10.5px;">CAS</a> <a href="/tags/Common-Lisp/" style="font-size: 13.5px;">Common Lisp</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10.5px;">C语言</a> <a href="/tags/Eclipse/" style="font-size: 11px;">Eclipse</a> <a href="/tags/Emacs/" style="font-size: 16.5px;">Emacs</a> <a href="/tags/Emmet/" style="font-size: 10px;">Emmet</a> <a href="/tags/GIT/" style="font-size: 10px;">GIT</a> <a href="/tags/HttpClient/" style="font-size: 12.5px;">HttpClient</a> <a href="/tags/IPFS/" style="font-size: 10px;">IPFS</a> <a href="/tags/JAVA/" style="font-size: 20px;">JAVA</a> <a href="/tags/JAVA-IO/" style="font-size: 15.5px;">JAVA IO</a> <a href="/tags/JAVA-NIO/" style="font-size: 17px;">JAVA NIO</a> <a href="/tags/JAVA-WEB/" style="font-size: 10.5px;">JAVA WEB</a> <a href="/tags/JAVA8/" style="font-size: 13.5px;">JAVA8</a> <a href="/tags/JWT/" style="font-size: 10px;">JWT</a> <a href="/tags/Lisp/" style="font-size: 12px;">Lisp</a> <a href="/tags/Markdown/" style="font-size: 10.5px;">Markdown</a> <a href="/tags/MongoDB/" style="font-size: 18px;">MongoDB</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/Scala/" style="font-size: 11px;">Scala</a> <a href="/tags/Shiro/" style="font-size: 10px;">Shiro</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/UML/" style="font-size: 10px;">UML</a> <a href="/tags/VIM/" style="font-size: 16px;">VIM</a> <a href="/tags/WEB%E5%BC%80%E5%8F%91/" style="font-size: 11px;">WEB开发</a> <a href="/tags/XML/" style="font-size: 10.5px;">XML</a> <a href="/tags/archtype/" style="font-size: 10px;">archtype</a> <a href="/tags/azkaban/" style="font-size: 10.5px;">azkaban</a> <a href="/tags/hadoop/" style="font-size: 13px;">hadoop</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/hive/" style="font-size: 10px;">hive</a> <a href="/tags/javascript/" style="font-size: 14px;">javascript</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/linux/" style="font-size: 13px;">linux</a> <a href="/tags/maven/" style="font-size: 12px;">maven</a> <a href="/tags/nosql/" style="font-size: 18.5px;">nosql</a> <a href="/tags/nosql-neo4j/" style="font-size: 11.5px;">nosql neo4j</a> <a href="/tags/openssl/" style="font-size: 11px;">openssl</a> <a href="/tags/servlet/" style="font-size: 11px;">servlet</a> <a href="/tags/spark/" style="font-size: 12px;">spark</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/webservice/" style="font-size: 11px;">webservice</a> <a href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7/" style="font-size: 11.5px;">一致性</a> <a href="/tags/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" style="font-size: 10.5px;">任务调度</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">分布式</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 10px;">区块链</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 17.5px;">大数据</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/" style="font-size: 10px;">字符编码</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E9%9B%86/" style="font-size: 12.5px;">字符集</a> <a href="/tags/%E5%AE%A1%E8%AE%A1/" style="font-size: 10px;">审计</a> <a href="/tags/%E5%AF%86%E7%A0%81%E6%9C%AF/" style="font-size: 14.5px;">密码术</a> <a href="/tags/%E5%B0%BE%E9%80%92%E5%BD%92/" style="font-size: 10px;">尾递归</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 12px;">并发</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14px;">排序</a> <a href="/tags/%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95/" style="font-size: 10px;">摘要算法</a> <a href="/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D/" style="font-size: 10.5px;">数字签名</a> <a href="/tags/%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6/" style="font-size: 10px;">数字证书</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 18.5px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%9D%83%E9%99%90/" style="font-size: 10px;">数据权限</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 11.5px;">杂谈</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 13.5px;">架构</a> <a href="/tags/%E6%A0%91%E7%AE%97%E6%B3%95/" style="font-size: 14px;">树算法</a> <a href="/tags/%E6%AD%A3%E8%A7%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正规表达式</a> <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 10px;">消息队列</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/" style="font-size: 12px;">知识体系</a> <a href="/tags/%E7%A5%9E%E5%99%A8/" style="font-size: 12px;">神器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 18.5px;">算法</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" style="font-size: 19px;">线程安全</a> <a href="/tags/%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 12.5px;">自制操作系统</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 19.5px;">设计模式</a> <a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 13px;">负载均衡</a> <a href="/tags/%E9%94%81/" style="font-size: 11px;">锁</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2999/12/">十二月 2999</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">九月 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02/">二月 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09/">九月 2009</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/explain/">【置顶】特别说明</a>
          </li>
        
          <li>
            <a href="/blog/tools/maven/dn-cst-maven-archtype/">开发一个maven脚手架</a>
          </li>
        
          <li>
            <a href="/blog/nosql/neo4j/neo4jindustrystock/">neo4j创建行业与股票关系</a>
          </li>
        
          <li>
            <a href="/blog/nosql/neo4j/neo4jindustry/">neo4j创建三级行业关系</a>
          </li>
        
          <li>
            <a href="/blog/nosql/neo4j/neo4jtimeline/">neo4j创建时间线</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 证心<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>