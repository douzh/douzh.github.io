# 单机软件架构

高可用：单机不考虑计算高可用，存储高可用考虑数据备份和恢复 高性能：

-   计算密集型：多线程、优化算法、增加CPU核数
-   IO密集型：异步、非阻塞；reactor proactor

## 同步 异步 阻塞 非阻塞

同步和异步、阻塞和非阻塞的区别如下：

1.  同步：同步通信要求发送方和接收方保持同步或协调。发送方在继续执行之前会等待接收方的响应。
2.  异步：异步通信不要求发送方和接收方保持同步。发送方可以在等待接收方响应的同时继续执行其他任务。
3.  阻塞：阻塞操作会在调用时阻塞执行，直到操作完成或收到响应。此时，程序无法执行其他任务。
4.  非阻塞：非阻塞操作在调用时不会阻塞执行。它会立即返回，允许程序继续执行其他任务。它可能会定期检查操作是否完成，或使用回调或事件来处理结果。

总结起来，同步通信需要协调并阻塞执行，而异步通信允许独立操作且不阻塞执行。阻塞操作会暂停程序执行，直到操作完成，而非阻塞操作会立即返回，允许程序继续执行其他任务。

阻塞：操作没有完成一直等待
非阻塞：操作没有完成直接返回，同步方式用轮询检查，异步方式等事件通知
同步：调用方完成结果的读取
异步：被调用方生成结果，回调或事件通知调用方取结果

-   阻塞 非阻塞 指的程序调用是否等待
-   同步 异步 指的是调用方是否等待被调用方返回结果
-   异步一定是非阻塞的，同步可能是阻塞或非阻塞的
-   IO多路复用是同步IO: select、poll、epoll

被调用方可以是IO密集型，也可以是计算密集型，但一般IO密集型调用居多。

以浏览器请求服务生成一个报表返回下载地址为例：

-   同步阻塞：浏览器调用后一直等待报表生成，服务器生成后返回文件下载地址
-   同步非阻塞：浏览器调用后会直接返回，但会轮询服务器报表是否生成获取下载地址
-   异步非阻塞：浏览器调用后直接返回，服务器生成报表后通知浏览器下载地址
-   异步阻塞：没有这种方式，可以实现但不合理

## IO密集型

### 名词定义

同步阻塞：java bio 同步非阻塞：java nio
